{"version":3,"sources":["webpack://Demo/webpack/universalModuleDefinition","webpack://Demo/webpack/bootstrap","webpack://Demo/./node_modules/@thesoulfresh/pan-zoom/lib/index.js","webpack://Demo/./node_modules/eventemitter3/index.js","webpack://Demo/./node_modules/lodash.debounce/index.js","webpack://Demo/./node_modules/object-fit-math/dist/fitter.js","webpack://Demo/./node_modules/object-fit-math/dist/index.js","webpack://Demo/./node_modules/object-fit-math/dist/predicates.js","webpack://Demo/./node_modules/object-fit-math/dist/transform-fitted-point.js","webpack://Demo/./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack://Demo/(webpack)/buildin/global.js","webpack://Demo/./src/PanZ.js","webpack://Demo/./src/index.js"],"names":["Base","debug","bound","level","console","bind","window","noop","forEach","error","warn","EventEmitter","PanZ","minZoom","maxZoom","zoomSpeed","zoomEnabled","panEnabled","bounds","boundingElement","gestureTimeout","initialFit","element","verbose","log","arguments","_x","_y","_z","_cx","_cy","boundingType","_moving","onResize","onGestureStart","onGestureChange","onGestureEnd","onDoubleClick","_zoomEnabled","_panEnabled","_zoomSpeed","init","options","destroy","key","_initPanZoom","_setTransformOrigin","_setSelectionProperties","_testTransform","_resizeObserver","ResizeObserver","observe","info","center","contain","cover","_initialized","cancel","_destroyPanZoom","disconnect","removeAllListeners","unpz","enabled","pz","onStart","onEnd","onDoubleTap","disablePan","disableZoom","enablePan","enableZoom","clamp","animated","_emitState","_setState","immediate","t","_percentToTranslation","x","y","_fitToBounds","px","py","z","cpx","cpy","nz","_scaleToScaleDelta","zoomBy","dz","p","_getPositionAdjustedForScale","bw","boundingWidth","bh","boundingHeight","rect","getBoundingClientRect","width","height","parent","child","fit","scale","type","_clampStateAfterTransition","dx","dy","px0","py0","event","preventDefault","nx","ny","_calculatePositionForZoom","_gestureUpdate","max","min","getContainSize","getCoverSize","getScaleDownSize","mid","_transitionTo","update","_transitionToState","rafId","cancelAnimationFrame","result","_clampPanZoom","_cancelRAF","_cancelTransitions","_setTransform","requestAnimationFrame","cx","cy","sdz","zoomClampType","Math","absMin","absMax","diff","pos","ds","w","elementWidth","h","elementHeight","cw","ch","cz","adjusted","b","wb","hb","w0","h0","ceil","xMin","yMin","xMax","yMax","round","clamped","clampedZoom","_clampZoom","clampedPan","_clampPan","_setTransition","_cancelTransitionEndListener","originalTransition","style","transition","test","onTransitionEnd","removeEventListener","addEventListener","touchAction","userSelect","transformOrigin","transform","name","data","unscaledWidth","unscaledHeight","toUpperCase","toFixed","emit","offsetWidth","clientWidth","offsetHeight","clientHeight","default"],"mappings":"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;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yDAAyD,OAAO;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;;;;;;;;;;;;AC/UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO,YAAY;AAC9B,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB;AACA,WAAW,QAAQ;AACnB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,8CAA8C,kBAAkB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;ACxXa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;ACzCa;AACb,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,+DAAU;AACjC;AACA;AACA;AACA,+BAA+B,mBAAO,CAAC,+FAA0B;AACjE;AACA,mBAAmB,mBAAO,CAAC,uEAAc;AACzC;AACA,iC;;;;;;;;;;;;ACVa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;;;;;;ACVa;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,+DAAU;AACnC;AACA,WAAW,2EAA2E;AACtF;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,kD;;;;;;;;;;;;ACZA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA,iCAAiC,YAAY;AAC7C,mDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gCAAgC,6BAA6B,EAAE,aAAa;AAC5G,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qDAAqD,mCAAmC,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,UAAU;AACrB,aAAa;AACb;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,kCAAkC,iEAAiE;AACnG;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,8CAA8C;AAC9C,CAAC;AACD;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2CAA2C;AAC7E;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA,eAAe,yBAAyB;AACxC;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAEc,oEAAK,EAAC;;;;;;;;;;;;;AC/5BrB;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCXMA,I;;;;;AACJ,sBAA2B;AAAA;;AAAA,YAAfC,KAAe,uEAAP,KAAO;;AAAA;;AACzB,kCADyB,CAGzB;;AACA,YAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,KAAK;AAAA,iBAAIC,OAAO,CAACD,KAAD,CAAP,CAAeE,IAAf,CAAoBC,MAAM,CAACF,OAA3B,EAAoC,QAApC,CAAJ;AAAA,SAAnB;;AACA,YAAMG,IAAI,GAAG,SAAPA,IAAO,GAAM,CAAE,CAArB;;AACA,SAAC,OAAD,EAAU,KAAV,EAAiB,MAAjB,EAAyBC,OAAzB,CAAiC,UAAAL,KAAK,EAAI;AACxC,gBAAKA,KAAL,IAAcF,KAAK,GAAGC,KAAK,CAACC,KAAD,CAAR,GAAkBI,IAArC;AACD,SAFD,EANyB,CAUzB;;AACA,cAAKE,KAAL,GAAaP,KAAK,CAAC,OAAD,CAAlB;AACA,cAAKQ,IAAL,GAAYR,KAAK,CAAC,MAAD,CAAjB;AAZyB;AAa1B;;;MAdgBS,sB;;QAoBEC,I;;;;;AACnB,sBAcE;AAAA;;AAAA,uFAHI,EAGJ;AAAA,gCAZEC,OAYF;AAAA,YAZEA,OAYF,6BAZY,GAYZ;AAAA,gCAXEC,OAWF;AAAA,YAXEA,OAWF,6BAXY,CAWZ;AAAA,kCAVEC,SAUF;AAAA,YAVEA,SAUF,+BAVc,CAUd;AAAA,oCATEC,WASF;AAAA,YATEA,WASF,iCATgB,IAShB;AAAA,mCAREC,UAQF;AAAA,YAREA,UAQF,gCARe,IAQf;AAAA,+BAPEC,MAOF;AAAA,YAPEA,MAOF,4BAPW,GAOX;AAAA,YANEC,eAMF,QANEA,eAMF;AAAA,uCALEC,cAKF;AAAA,YALEA,cAKF,oCALmB,EAKnB;AAAA,mCAJEC,UAIF;AAAA,YAJEA,UAIF,gCAJe,IAIf;;AAAA,YAFAC,OAEA;AAAA,YADAC,OACA;;AAAA;;AACA,oCAAMA,OAAN;;AAEA,eAAKC,GAAL,CAAS,cAAT,EAAyBC,SAAzB;;AAEA,eAAKC,EAAL,GAAU,CAAV;AACA,eAAKC,EAAL,GAAU,CAAV,CANA,CAOA;;AACA,eAAKC,EAAL,GAAU,CAAV,CARA,CASA;;AACA,eAAKC,GAAL,GAAW,CAAX;AACA,eAAKC,GAAL,GAAW,CAAX;AACA,eAAKC,YAAL,GAAoB,CAApB;AACA,eAAKC,OAAL,GAAe,KAAf;AAEA,eAAKC,QAAL,GAAgB,sBAAS,OAAKA,QAAL,CAAc5B,IAAd,gCAAT,EAAmC,GAAnC,CAAhB;AACA,eAAK6B,cAAL,GAAsB,OAAKA,cAAL,CAAoB7B,IAApB,gCAAtB;AACA,eAAK8B,eAAL,GAAuB,OAAKA,eAAL,CAAqB9B,IAArB,gCAAvB;AACA,eAAK+B,YAAL,GAAoB,OAAKA,YAAL,CAAkB/B,IAAlB,gCAApB;AACA,eAAKgC,aAAL,GAAqB,OAAKA,aAAL,CAAmBhC,IAAnB,gCAArB;AAEA,eAAKa,MAAL,GAAcA,MAAd;AACA,eAAKC,eAAL,GAAuBA,eAAvB;AACA,eAAKmB,YAAL,GAAoBrB,UAApB;AACA,eAAKsB,WAAL,GAAmBvB,WAAnB;AACA,eAAKwB,UAAL,GAAkBzB,SAAS,GAAG,GAA9B;AACA,eAAKF,OAAL,GAAeA,OAAf;AACA,eAAKC,OAAL,GAAeA,OAAf;AACA,eAAKO,UAAL,GAAkBA,UAAlB;AACA,eAAKD,cAAL,GAAsBA,cAAtB;AAEA,YAAIE,OAAJ,EAAa,OAAKmB,IAAL,CAAUnB,OAAV,EAAmB,EAAnB;AA/Bb;AAgCD;;;;6BAEIA,O,EAASoB,O,EAAS;AACrB,eAAKC,OAAL;AAEA,eAAKrB,OAAL,GAAeA,OAAf,CAHqB,CAKrB;;AACA,cAAIoB,OAAJ,EAAa;AACX,iBAAK,IAAIE,GAAT,IAAgBF,OAAhB;AACE,mBAAKE,GAAL,IAAYF,OAAO,CAACE,GAAD,CAAnB;AADF;AAED,WAToB,CAWrB;;;AACA,eAAKC,YAAL,GAZqB,CAcrB;AACA;;;AACA,eAAKC,mBAAL;;AACA,eAAKC,uBAAL;;AACA,eAAKC,cAAL,GAlBqB,CAoBrB;;;AACA,cAAI,CAAC,KAAK7B,eAAV,EAA2B,KAAKA,eAAL,GAAuBG,OAAvB;AAE3B,eAAK2B,eAAL,GAAuB,IAAIC,gCAAJ,CAAmB,KAAKjB,QAAxB,CAAvB;;AACA,eAAKgB,eAAL,CAAqBE,OAArB,CAA6B,KAAKhC,eAAlC;;AAEA,eAAKiC,IAAL,CAAU,kBAAV,EAA8B3B,SAA9B;AACA,eAAKxB,KAAL,CAAW,WAAX,EAAwB,IAAxB;AAEA,cAAI,KAAKoB,UAAL,KAAoB,QAAxB,EAAkC,KAAKgC,MAAL,CAAY,KAAZ,EAAmB,IAAnB,EAAlC,KACK,IAAI,KAAKhC,UAAL,KAAoB,SAAxB,EAAmC,KAAKiC,OAAL,CAAa,KAAb,EAAoB,IAApB,EAAnC,KACA,IAAI,KAAKjC,UAAL,KAAoB,OAAxB,EAAiC,KAAKkC,KAAL,CAAW,KAAX,EAAkB,IAAlB;AAEtC,eAAKC,YAAL,GAAoB,IAApB;AACD;;;kCAES;AACR,cAAI,KAAKlC,OAAT,EAAkB;AAChB;AACA,gBAAI,KAAKW,QAAL,CAAcwB,MAAlB,EAA0B,KAAKxB,QAAL,CAAcwB,MAAd,GAFV,CAIhB;;AACA,iBAAKC,eAAL,GALgB,CAOhB;;;AACA,iBAAKT,eAAL,CAAqBU,UAArB,GARgB,CAUhB;;;AACA,iBAAKC,kBAAL,GAXgB,CAahB;;AACA,iBAAKtC,OAAL,GAAe,IAAf;AACA,iBAAKH,eAAL,GAAuB,IAAvB;AACA,iBAAKqC,YAAL,GAAoB,KAApB;AAEA,iBAAKJ,IAAL,CAAU,WAAV;AACD;AACF;;;uCAEc;AACb,cAAI,CAAC,KAAKS,IAAN,IAAc,KAAKvC,OAAnB,IAA8B,KAAKwC,OAAvC,EAAgD;AAC9C;AACA,iBAAKD,IAAL,GAAY,IAAIE,iBAAJ,CACV,KAAKzC,OADK,EAEV,KAAKa,eAFK,EAGV;AACE6B,qBAAO,EAAE,KAAK9B,cADhB;AAEE+B,mBAAK,EAAE,KAAK7B,YAFd;AAGE8B,yBAAW,EAAE,KAAK7B;AAHpB,aAHU,CAAZ;AAUA,iBAAKL,OAAL,GAAe,KAAf,CAZ8C,CAc9C;;AACA,gBAAI,CAAC,KAAKO,WAAV,EAAuB,KAAK4B,UAAL;AACvB,gBAAI,CAAC,KAAK7B,YAAV,EAAwB,KAAK8B,WAAL;AACzB;AACF;;;0CAEiB;AAChB,cAAI,KAAKP,IAAT,EAAe;AACb,iBAAKA,IAAL;AACA,iBAAKA,IAAL,GAAY,IAAZ;AACA,iBAAK7B,OAAL,GAAe,KAAf;AACD;AACF;;;iCA8DQ;AACP,eAAKqC,SAAL;AACA,eAAKC,UAAL;;AACA,eAAKzB,YAAL;AACD;;;kCAES;AACR,eAAKsB,UAAL;AACA,eAAKC,WAAL;;AACA,eAAKV,eAAL;AACD;;;oCAEW;AACV,eAAKnB,WAAL,GAAmB,IAAnB;AACA,eAAKsB,IAAL,CAAUQ,SAAV;AACA,eAAKjB,IAAL,CAAU,aAAV;AACD;;;qCAEY;AACX,eAAKb,WAAL,GAAmB,KAAnB;AACA,eAAKsB,IAAL,CAAUM,UAAV,GAFW,CAGX;AACA;AACA;;AACA,eAAKnC,OAAL,GAAe,KAAf;AAEA,eAAKoB,IAAL,CAAU,cAAV;AACD;;;qCAEY;AACX,eAAKd,YAAL,GAAoB,IAApB;AACA,eAAKuB,IAAL,CAAUS,UAAV;AACA,eAAKlB,IAAL,CAAU,cAAV;AACD;;;sCAEa;AACZ,eAAKd,YAAL,GAAoB,KAApB;AACA,eAAKuB,IAAL,CAAUO,WAAV,GAFY,CAGZ;AACA;AACA;;AACA,eAAKpC,OAAL,GAAe,KAAf;AAEA,eAAKoB,IAAL,CAAU,eAAV;AACD;;;8BAEKmB,K,EAAOC,Q,EAAU;AACrB,eAAKC,UAAL,CAAgB,OAAhB;;AACA,eAAKC,SAAL,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwBH,KAAxB,EAA+BC,QAA/B;AACD;;;+BAEMA,Q,EAAUG,S,EAAW;AAC1B,eAAKF,UAAL,CAAgB,OAAhB;;AACA,cAAMG,CAAC,GAAG,KAAKC,qBAAL,CAA2B,GAA3B,EAAgC,GAAhC,CAAV;;AACA,eAAKH,SAAL,CAAeE,CAAC,CAACE,CAAjB,EAAoBF,CAAC,CAACG,CAAtB,EAAyB,KAAKnD,EAA9B,EAAkC,KAAlC,EAAyC4C,QAAzC,EAAmDG,SAAnD;AACD;;;gCAEOH,Q,EAAUG,S,EAAW;AAC3B,eAAKK,YAAL,CAAkB,SAAlB,EAA6B,KAA7B,EAAoCR,QAApC,EAA8CG,SAA9C;AACD;;;8BAEKH,Q,EAAUG,S,EAAW;AACzB,eAAKK,YAAL,CAAkB,OAAlB,EAA2B,KAA3B,EAAkCR,QAAlC,EAA4CG,SAA5C;AACD;;;kCAESH,Q,EAAUG,S,EAAW;AAC7B,eAAKK,YAAL,CAAkB,YAAlB,EAAgC,KAAhC,EAAuCR,QAAvC,EAAiDG,SAAjD;AACD;;;8BAEKM,E,EAAIC,E,EAAIX,K,EAAOC,Q,EAAU;AAC7B,eAAKC,UAAL,CAAgB,OAAhB;;AACA,cAAMG,CAAC,GAAG,KAAKC,qBAAL,CAA2BI,EAA3B,EAA+BC,EAA/B,CAAV;;AACA,eAAKR,SAAL,CAAeE,CAAC,CAACE,CAAjB,EAAoBF,CAAC,CAACG,CAAtB,EAAyB,KAAKnD,EAA9B,EAAkC2C,KAAlC,EAAyCC,QAAzC;AACD;;;iCAEoD;AAAA,cAA9CW,CAA8C,uEAA1C,CAA0C;AAAA,cAAvCC,GAAuC,uEAAjC,GAAiC;AAAA,cAA5BC,GAA4B,uEAAtB,GAAsB;AAAA,cAAjBd,KAAiB;AAAA,cAAVC,QAAU;;AACnD,eAAKC,UAAL,CAAgB,OAAhB;;AACA,cAAMa,EAAE,GAAG,KAAKC,kBAAL,CAAwBJ,CAAxB,CAAX,CAFmD,CAGnD;;;AACA,eAAKK,MAAL,CAAYF,EAAZ,EAAgBF,GAAhB,EAAqBC,GAArB,EAA0Bd,KAA1B,EAAiCC,QAAjC;AACD;;;mCAE0D;AAAA,cAAlDS,EAAkD,uEAA7C,GAA6C;AAAA,cAAxCC,EAAwC,uEAAnC,GAAmC;AAAA,cAA9BC,CAA8B,uEAA1B,KAAKvD,EAAqB;AAAA,cAAjB2C,KAAiB;AAAA,cAAVC,QAAU;;AACzD,eAAKC,UAAL,CAAgB,OAAhB;;AACA,cAAMG,CAAC,GAAG,KAAKC,qBAAL,CAA2BI,EAA3B,EAA+BC,EAA/B,CAAV,CAFyD,CAIzD;;;AACA,cAAMO,EAAE,GAAGN,CAAC,GAAG,KAAKvD,EAApB;;AACA,cAAM8D,CAAC,GAAG,KAAKC,4BAAL,CAAkCF,EAAlC,EAAsCR,EAAtC,EAA0CC,EAA1C,CAAV;;AAEA,cAAMJ,CAAC,GAAGF,CAAC,CAACE,CAAF,GAAMY,CAAC,CAACZ,CAAlB;AACA,cAAMC,CAAC,GAAGH,CAAC,CAACG,CAAF,GAAMW,CAAC,CAACX,CAAlB;;AAEA,eAAKL,SAAL,CAAeI,CAAf,EAAkBC,CAAlB,EAAqBI,CAArB,EAAwBZ,KAAxB,EAA+BC,QAA/B;AACD;;;;AAEU;AAAqD,SAC9D;AACA;AACD;;;2CAEkBW,C,EAAG;AACpB,iBAAO,CAAC,KAAKvD,EAAL,GAAUuD,CAAX,IAAgB,KAAK3C,UAA5B;AACD;;;8CAEqByC,E,EAAIC,E,EAAI;AAC5B,cAAMU,EAAE,GAAG,KAAKC,aAAhB,CAD4B,CACG;;AAC/B,cAAMC,EAAE,GAAG,KAAKC,cAAhB,CAF4B,CAEI;;AAChC,cAAMC,IAAI,GAAG,KAAK1E,OAAL,CAAa2E,qBAAb,EAAb;AACA,iBAAO;AACLnB,aAAC,EAAGc,EAAE,GAAC,CAAJ,GAAWI,IAAI,CAACE,KAAL,GAAajB,EADtB;AAELF,aAAC,EAAGe,EAAE,GAAC,CAAJ,GAAUE,IAAI,CAACG,MAAL,GAAcjB;AAFtB,WAAP;AAID;;;yCAIqE;AAAA,cAAvD5D,OAAuD,uEAA7C,KAAKA,OAAwC;AAAA,cAA/BJ,MAA+B,uEAAtB,KAAKC,eAAiB;AACpE,cAAMiF,MAAM,GAAGlF,MAAM,CAAC+E,qBAAP,EAAf;AACA,cAAMI,KAAK,GAAG/E,OAAO,CAAC2E,qBAAR,EAAd;AACA,cAAMK,GAAG,GAAG,mCAAeF,MAAf,EAAuBC,KAAvB,EAA8B,SAA9B,EAAyC,KAAzC,EAAgD,KAAhD,CAAZ;AACA,iDACKC,GADL;AAEEC,iBAAK,EAAED,GAAG,CAACJ,KAAJ,GAAYG,KAAK,CAACH;AAF3B;AAID;;;uCAEmE;AAAA,cAAvD5E,OAAuD,uEAA7C,KAAKA,OAAwC;AAAA,cAA/BJ,MAA+B,uEAAtB,KAAKC,eAAiB;AAClE,cAAMiF,MAAM,GAAGlF,MAAM,CAAC+E,qBAAP,EAAf;AACA,cAAMI,KAAK,GAAG/E,OAAO,CAAC2E,qBAAR,EAAd;AACA,cAAMK,GAAG,GAAG,mCAAeF,MAAf,EAAuBC,KAAvB,EAA8B,OAA9B,EAAuC,KAAvC,EAA8C,KAA9C,CAAZ;AACA,iDACKC,GADL;AAEEC,iBAAK,EAAED,GAAG,CAACJ,KAAJ,GAAYG,KAAK,CAACH;AAF3B;AAID;;;2CAEuE;AAAA,cAAvD5E,OAAuD,uEAA7C,KAAKA,OAAwC;AAAA,cAA/BJ,MAA+B,uEAAtB,KAAKC,eAAiB;AACtE,cAAMiF,MAAM,GAAGlF,MAAM,CAAC+E,qBAAP,EAAf;AACA,cAAMI,KAAK,GAAG/E,OAAO,CAAC2E,qBAAR,EAAd;AACA,cAAMK,GAAG,GAAG,mCAAeF,MAAf,EAAuBC,KAAvB,EAA8B,YAA9B,EAA4C,KAA5C,EAAmD,KAAnD,CAAZ;AACA,iDACKC,GADL;AAEEC,iBAAK,EAAED,GAAG,CAACJ,KAAJ,GAAYG,KAAK,CAACH;AAF3B;AAID;;;uCAE0D;AAAA,cAA9CM,IAA8C,uEAAvC,SAAuC;AAAA,cAA5BjC,KAA4B;AAAA,cAArBC,QAAqB;AAAA,cAAXG,SAAW;AACzD,cAAMyB,MAAM,GAAG,KAAKjF,eAAL,CAAqB8E,qBAArB,EAAf;AACA,cAAMI,KAAK,GAAG,KAAK/E,OAAL,CAAa2E,qBAAb,EAAd;;AAFyD,gCAGnC,mCAAeG,MAAf,EAAuBC,KAAvB,EAA8BG,IAA9B,EAAoC,KAApC,EAA2C,KAA3C,CAHmC;AAAA,cAGlD1B,CAHkD,mBAGlDA,CAHkD;AAAA,cAG/CC,CAH+C,mBAG/CA,CAH+C;AAAA,cAG5CmB,KAH4C,mBAG5CA,KAH4C;;AAIzD,cAAIf,CAAC,GAAIe,KAAK,GAAGG,KAAK,CAACH,KAAf,GAAwB,KAAKtE,EAArC,CAJyD,CAMzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAK6C,UAAL,CAAgB,OAAhB;;AACA,eAAKC,SAAL,CAAeI,CAAf,EAAkBC,CAAlB,EAAqBI,CAArB,EAAwBZ,KAAxB,EAA+BC,QAA/B,EAAyCG,SAAzC;AACD;;;yCAEgB;AACf,eAAK3C,OAAL,GAAe,IAAf,CADe,CAEf;;AACA,eAAKyC,UAAL,CAAgB,OAAhB;;AACA,eAAKA,UAAL,CAAgB,cAAhB;AACD;;;uCAEc;AACb,eAAKzC,OAAL,GAAe,KAAf;;AACA,eAAKyE,0BAAL;;AACA,eAAKhC,UAAL,CAAgB,KAAhB;;AACA,eAAKA,UAAL,CAAgB,YAAhB;AACD;;;+CAgBE;AAAA,+BAbDiC,EAaC;AAAA,cAbDA,EAaC,yBAbI,CAaJ;AAAA,+BAZDC,EAYC;AAAA,cAZDA,EAYC,yBAZI,CAYJ;AAAA,+BAXDlB,EAWC;AAAA,cAXDA,EAWC,yBAXI,CAWJ;AAAA,cAHDmB,GAGC,SAHDA,GAGC;AAAA,cAFDC,GAEC,SAFDA,GAEC;AAAA,cADDC,KACC,SADDA,KACC;;AACD,cAAI,KAAKhD,OAAT,EAAkB;AAChBgD,iBAAK,CAACC,cAAN,GADgB,CAGhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,gBAAIC,EAAE,GAAG,KAAKtF,EAAd;AACA,gBAAIuF,EAAE,GAAG,KAAKtF,EAAd;AACA,gBAAI2D,EAAE,GAAG,KAAK1D,EAAd,CAfgB,CAiBhB;;AACA,gBAAI,KAAKW,WAAT,EAAsB;AACpByE,gBAAE,IAAIN,EAAN;AACAO,gBAAE,IAAIN,EAAN;AACD;;AAED,gBAAI,KAAKrE,YAAT,EAAuB;AACrB,kBAAMoD,CAAC,GAAG,KAAKwB,yBAAL,CAA+B,KAAKtF,EAApC,EAAwC6D,EAAxC,EAA4CmB,GAA5C,EAAiDC,GAAjD,CAAV,CADqB,CAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACAG,gBAAE,IAAItB,CAAC,CAACZ,CAAR;AACAmC,gBAAE,IAAIvB,CAAC,CAACX,CAAR,CAdqB,CAgBrB;;AACAO,gBAAE,GAAGI,CAAC,CAACP,CAAP;AACD;;AAED,iBAAKgC,cAAL,CAAoBH,EAApB,EAAwBC,EAAxB,EAA4B3B,EAA5B,EAAgCsB,GAAhC,EAAqCC,GAArC;AACD;AACF;;;8BAOKH,E,EAAIC,E,EAAIpC,K,EAAOC,Q,EAAU;AAC7B;AACA,cAAIM,CAAC,GAAG,KAAKpD,EAAL,GAAUgF,EAAlB;AACA,cAAI3B,CAAC,GAAG,KAAKpD,EAAL,GAAUgF,EAAlB;;AAEA,eAAKjC,SAAL,CAAeI,CAAf,EAAkBC,CAAlB,EAAqB,KAAKnD,EAA1B,EAA8B2C,KAA9B,EAAqCC,QAArC;AACD;;;+BAQMiB,E,EAAIL,G,EAAKC,G,EAAKd,K,EAAOC,Q,EAAU;AACpC;AACA,cAAIwC,EAAE,GAAG,KAAKtF,EAAd;AACA,cAAIuF,EAAE,GAAG,KAAKtF,EAAd;AACA,cAAI2D,EAAE,GAAG,KAAK1D,EAAd;;AAEA,cAAM8D,CAAC,GAAG,KAAKwB,yBAAL,CAA+B,KAAKtF,EAApC,EAAwC6D,EAAxC,EAA4CL,GAA5C,EAAiDC,GAAjD,CAAV,CANoC,CAOpC;;;AACA2B,YAAE,IAAItB,CAAC,CAACZ,CAAR;AACAmC,YAAE,IAAIvB,CAAC,CAACX,CAAR,CAToC,CAWpC;;AACAO,YAAE,GAAGI,CAAC,CAACP,CAAP;;AAEA,eAAKT,SAAL,CAAesC,EAAf,EAAmBC,EAAnB,EAAuB3B,EAAvB,EAA2Bf,KAA3B,EAAkCC,QAAlC;AACD;;;6CAEyB;AAAA,cAAXoC,GAAW,SAAXA,GAAW;AAAA,cAANC,GAAM,SAANA,GAAM;;AACxB,cAAI,KAAKvE,YAAT,EAAuB;AACrB,gBAAI8E,GAAG,GAAG,KAAKtG,OAAf;AACA,gBAAIuG,GAAG,GAAG,KAAKxG,OAAf;;AAEA,gBAAI,KAAKQ,UAAT,EAAqB;AACnB,kBAAI,KAAKA,UAAL,KAAoB,SAAxB,EAAmCgG,GAAG,GAAG,KAAKC,cAAL,GAAsBf,KAA5B,CAAnC,KACK,IAAI,KAAKlF,UAAL,KAAoB,OAAxB,EAAiCgG,GAAG,GAAG,KAAKE,YAAL,GAAoBhB,KAA1B,CAAjC,KACA,IAAI,KAAKlF,UAAL,KAAoB,YAAxB,EAAsCgG,GAAG,GAAG,KAAKG,gBAAL,GAAwBjB,KAA9B;AAC5C;;AAED,gBAAMkB,GAAG,GAAGJ,GAAG,GAAI,CAACD,GAAG,GAAGC,GAAP,IAAc,CAAjC;AACA,gBAAMlC,CAAC,GAAG,KAAKvD,EAAL,GAAU6F,GAAV,GAAgBJ,GAAhB,GAAsBD,GAAhC;AACA,gBAAM3B,EAAE,GAAG,CAAC,KAAK7D,EAAL,GAAUuD,CAAX,IAAgB,KAAK3C,UAAhC;AACA,iBAAKhB,GAAL,CAAS,cAAT,EACE,SADF,EACa,KAAKI,EADlB,EAEE,KAFF,EAES6F,GAFT,EAGE,GAHF,EAGOtC,CAHP,EAIE,IAJF,EAIQM,EAJR;AAOA,iBAAKD,MAAL,CAAYC,EAAZ,EAAgBmB,GAAhB,EAAqBC,GAArB,EAA0B,IAA1B;AACD;AACF;;;mCAEU;AACT,eAAKJ,0BAAL;;AACA,eAAKrD,IAAL,CAAU,YAAV;AACD;;;kCAES0B,C,EAAGC,C,EAAGI,C,EAAGZ,K,EAAmC;AAAA,cAA5BC,QAA4B,uEAAjB,IAAiB;AAAA,cAAXG,SAAW;;AACpD,cAAIH,QAAJ,EAAc;AACZ,iBAAKkD,aAAL,CAAmB5C,CAAnB,EAAsBC,CAAtB,EAAyBI,CAAzB,EAA4BZ,KAA5B;AACD,WAFD,MAEO;AACL,iBAAKoD,MAAL,CAAY7C,CAAZ,EAAeC,CAAf,EAAkBI,CAAlB,EAAqBZ,KAArB,EAA4BI,SAA5B;AACD;AACF;;;wCAEyC;AAAA,cAA5BG,CAA4B,uEAAxB,CAAwB;AAAA,cAArBC,CAAqB,uEAAjB,CAAiB;AAAA,cAAdI,CAAc,uEAAV,CAAU;AAAA,cAAPZ,KAAO;;AACxC,cAAI,KAAK7C,EAAL,KAAYoD,CAAZ,IAAiB,KAAKnD,EAAL,KAAYoD,CAA7B,IAAkC,KAAKnD,EAAL,KAAYuD,CAAlD,EAAqD;AACnD,iBAAK3D,GAAL,CAAS,eAAT,EACE,GADF,EACOsD,CADP,EAEE,GAFF,EAEOC,CAFP,EAGE,GAHF,EAGOI,CAHP;AAMA,iBAAKzD,EAAL,GAAUoD,CAAV;AACA,iBAAKnD,EAAL,GAAUoD,CAAV;AACA,iBAAKnD,EAAL,GAAUuD,CAAV;;AAEA,iBAAKyC,kBAAL,CAAwBrD,KAAxB;AACD;AACF;;;qCAMY;AACX,cAAI,KAAKsD,KAAT,EAAgB;AACdC,gCAAoB,CAAC,KAAKD,KAAN,CAApB;AACA,iBAAKA,KAAL,GAAa,IAAb;AACD;AACF;;;+BAOM/C,C,EAAGC,C,EAAGI,C,EAAoC;AAAA;;AAAA,cAAjCZ,KAAiC,uEAAzB,IAAyB;AAAA,cAAnBI,SAAmB,uEAAP,KAAO;AAC/C;AACA;AACA,cAAI,CAACA,SAAL,EAAgB,KAAK3C,OAAL,GAAe,IAAf;;AAEhB,cAAIuC,KAAJ,EAAW;AACT,gBAAMwD,MAAM,GAAG,KAAKC,aAAL,CAAmBlD,CAAnB,EAAsBC,CAAtB,EAAyBI,CAAzB,CAAf;;AACA,iBAAKzD,EAAL,GAAUqG,MAAM,CAACjD,CAAjB;AACA,iBAAKnD,EAAL,GAAUoG,MAAM,CAAChD,CAAjB;AACA,iBAAKnD,EAAL,GAAUmG,MAAM,CAAC5C,CAAjB;AACD,WALD,MAKO;AACL,iBAAKzD,EAAL,GAAUoD,CAAV;AACA,iBAAKnD,EAAL,GAAUoD,CAAV;AACA,iBAAKnD,EAAL,GAAUuD,CAAV;AACD,WAd8C,CAe/C;;;AACA,eAAK8C,UAAL;;AACA,eAAKC,kBAAL,GAjB+C,CAmB/C;AACA;AACA;AACA;;;AACA,cAAIvD,SAAJ,EAAe;AACb,iBAAKwD,aAAL,CAAmB,KAAKzG,EAAxB,EAA4B,KAAKC,EAAjC,EAAqC,KAAKC,EAA1C;AACD,WAFD,MAEO;AACL;AACA,iBAAKiG,KAAL,GAAaO,qBAAqB,CAAC,YAAM;AACvC,oBAAI,CAACD,aAAL,CAAmB,MAAI,CAACzG,EAAxB,EAA4B,MAAI,CAACC,EAAjC,EAAqC,MAAI,CAACC,EAA1C;;AACA,oBAAI,CAACiG,KAAL,GAAa,IAAb;AACA,oBAAI,CAAC7F,OAAL,GAAe,KAAf;;AACA,oBAAI,CAACyC,UAAL,CAAgB,QAAhB;AACD,aALiC,CAAlC;AAMD;AACF;;;uCAQcK,C,EAAGC,C,EAAGI,C,EAAGkD,E,EAAIC,E,EAAI;AAAA;;AAC9B;AACA,eAAK5G,EAAL,GAAUoD,CAAV;AACA,eAAKnD,EAAL,GAAUoD,CAAV;AACA,eAAKnD,EAAL,GAAUuD,CAAV,CAJ8B,CAK9B;;AACA,eAAKtD,GAAL,GAAWwG,EAAX;AACA,eAAKvG,GAAL,GAAWwG,EAAX,CAP8B,CAS9B;;AACA,eAAKL,UAAL;;AACA,eAAKC,kBAAL,GAX8B,CAa9B;;;AACA,eAAKL,KAAL,GAAaO,qBAAqB,CAAC,YAAM;AACvC,kBAAI,CAACD,aAAL,CAAmB,MAAI,CAACzG,EAAxB,EAA4B,MAAI,CAACC,EAAjC,EAAqC,MAAI,CAACC,EAA1C;;AACA,kBAAI,CAACiG,KAAL,GAAa,IAAb;;AAEA,kBAAI,CAACpD,UAAL,CAAgB,QAAhB;AACD,WALiC,CAAlC;AAMD;;;kDAEyBU,C,EAAGM,E,EAAIL,G,EAAKC,G,EAAK;AACzC;AACA,cAAII,EAAE,KAAK,CAAX,EAAc,OAAO;AAACX,aAAC,EAAE,CAAJ;AAAOC,aAAC,EAAE,CAAV;AAAaI,aAAC,EAADA;AAAb,WAAP;AAEd,cAAIG,EAAE,GAAGH,CAAT,CAJyC,CAKzC;AACA;;AACA,cAAMoD,GAAG,GAAG9C,EAAE,GAAG,CAAC,CAAN,GAAU,KAAKjD,UAA3B,CAPyC,CASzC;;AACA,cAAMgG,aAAa,GAAG,CAAtB,CAVyC,CAWzC;;AACA,cAAIA,aAAa,KAAK,CAAtB,EAAyB;AACvBlD,cAAE,GAAGmD,IAAI,CAACpB,GAAL,CACHoB,IAAI,CAACrB,GAAL,CACEjC,CAAC,GAAGoD,GADN,EAEE,KAAK1H,OAFP,CADG,EAKH,KAAKC,OALF,CAAL;AAOD,WARD,CASA;AACA;AAVA,eAWK,IAAI0H,aAAa,KAAK,CAAtB,EAAyB;AAC5B,kBAAME,MAAM,GAAG,KAAK7H,OAAL,GAAgB,KAAKA,OAAL,GAAe,GAA9C;AACA,kBAAM8H,MAAM,GAAG,KAAK7H,OAAL,GAAgB,KAAKA,OAAL,GAAe,GAA9C;AACAwE,gBAAE,GAAGmD,IAAI,CAACpB,GAAL,CACHoB,IAAI,CAACrB,GAAL,CACEjC,CAAC,GAAGoD,GADN,EAEEG,MAFF,CADG,EAKHC,MALG,CAAL;AAOD,aAVI,CAWL;AACA;AACA;AACA;AACA;AACA;AACA;AAjBK,iBAkBA;AACHrD,kBAAE,GAAGmD,IAAI,CAACrB,GAAL,CAASjC,CAAC,GAAGoD,GAAb,EAAkB,CAAlB,CAAL;AACD,eA3CwC,CA6CzC;AACA;;;AACA,cAAMK,IAAI,GAAGtD,EAAE,GAAGH,CAAlB;AACA,cAAM0D,GAAG,GAAGD,IAAI,GAAG,KAAKjD,4BAAL,CAAkCiD,IAAlC,EAAwCxD,GAAxC,EAA6CC,GAA7C,CAAH,GAAuD;AAACP,aAAC,EAAE,CAAJ;AAAOC,aAAC,EAAE;AAAV,WAAvE,CAhDyC,CAkDzC;;AACA,iDACK8D,GADL;AAEE1D,aAAC,EAAEG;AAFL;AAID;;;qDAM4BwD,E,EAAoB;AAAA,cAAhB7D,EAAgB,uEAAX,CAAW;AAAA,cAARC,EAAQ,uEAAH,CAAG;AAC/C;AACA,cAAM6D,CAAC,GAAG,KAAKC,YAAf;AACA,cAAMC,CAAC,GAAG,KAAKC,aAAf,CAH+C,CAK/C;;AACA,cAAMC,EAAE,GAAGJ,CAAC,GAAGD,EAAf;AACA,cAAMM,EAAE,GAAGH,CAAC,GAAGH,EAAf,CAP+C,CAS/C;;AACA,cAAMT,EAAE,GAAGc,EAAE,GAAGlE,EAAhB;AACA,cAAMqD,EAAE,GAAGc,EAAE,GAAGlE,EAAhB,CAX+C,CAa/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAO;AACLJ,aAAC,EAAE,CAACuD,EADC;AAELtD,aAAC,EAAE,CAACuD;AAFC,WAAP;AAID;;;mCAEUnD,C,EAAiE;AAAA,cAA9DC,GAA8D,uEAAxD,GAAwD;AAAA,cAAnDC,GAAmD,uEAA7C,GAA6C;AAAA,cAAxCgC,GAAwC,uEAAlC,KAAKxG,OAA6B;AAAA,cAApBuG,GAAoB,uEAAd,KAAKtG,OAAS;AAC1E,cAAIgE,CAAC,GAAG,CAAR;AACA,cAAIC,CAAC,GAAG,CAAR;AAEA,cAAIsE,EAAE,GAAGlE,CAAT,CAJ0E,CAK1E;;AACA,cAAIkC,GAAG,IAAI,IAAX,EAAiBgC,EAAE,GAAGZ,IAAI,CAACrB,GAAL,CAASiC,EAAT,EAAahC,GAAb,CAAL;AACjB,cAAID,GAAG,IAAI,IAAX,EAAiBiC,EAAE,GAAGZ,IAAI,CAACpB,GAAL,CAASgC,EAAT,EAAajC,GAAb,CAAL;;AAEjB,cAAIjC,CAAC,KAAKkE,EAAV,EAAc;AACZ,gBAAM5D,EAAE,GAAG4D,EAAE,GAAGlE,CAAhB;;AAEA,gBAAMmE,QAAQ,GAAG,KAAK3D,4BAAL,CAAkCF,EAAlC,EAAsCL,GAAtC,EAA2CC,GAA3C,CAAjB;;AACAP,aAAC,IAAIwE,QAAQ,CAACxE,CAAd;AACAC,aAAC,IAAIuE,QAAQ,CAACvE,CAAd;AAEA,iBAAK3B,IAAL,CAAU,cAAV,EACE,iBADF,EACqB+B,CADrB,EAEE,eAFF,EAEmBkE,EAFnB,EAGE,IAHF,EAGQ5D,EAHR,EAIE,GAJF,EAIOX,CAJP,EAKE,GALF,EAKOC,CALP;AAOD;;AAED,iBAAO;AAACD,aAAC,EAADA,CAAD;AAAIC,aAAC,EAADA,CAAJ;AAAOI,aAAC,EAAEkE;AAAV,WAAP;AACD;;;kCAESvE,C,EAAGC,C,EAAoB;AAAA,cAAjBwE,CAAiB,uEAAb,KAAKrI,MAAQ;AAC/B,cAAImH,EAAE,GAAGvD,CAAT;AACA,cAAIwD,EAAE,GAAGvD,CAAT,CAF+B,CAI/B;;AACA,cAAIwE,CAAJ,EAAO;AACL,gBAAMC,EAAE,GAAG,KAAK3D,aAAhB;AACA,gBAAM4D,EAAE,GAAG,KAAK1D,cAAhB;AACA,gBAAM2D,EAAE,GAAG,KAAKV,YAAhB;AACA,gBAAMW,EAAE,GAAG,KAAKT,aAAhB;AACA,gBAAMH,CAAC,GAAGN,IAAI,CAACmB,IAAL,CAAUF,EAAE,GAAG,KAAK9H,EAApB,CAAV;AACA,gBAAMqH,CAAC,GAAGR,IAAI,CAACmB,IAAL,CAAUD,EAAE,GAAG,KAAK/H,EAApB,CAAV;AAEA,gBAAIiI,IAAJ,EAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,IAAtB,CARK,CASL;;AACA,gBAAI,KAAKjI,YAAL,KAAsB,CAA1B,EAA6B;AAC3B;AACA8H,kBAAI,GAAGL,EAAE,IAAI,IAAID,CAAR,CAAF,GAAeR,CAAtB;AACAe,kBAAI,GAAGL,EAAE,IAAI,IAAIF,CAAR,CAAF,GAAeN,CAAtB,CAH2B,CAI3B;;AACAc,kBAAI,GAAGP,EAAE,GAAGD,CAAZ;AACAS,kBAAI,GAAGP,EAAE,GAAGF,CAAZ;AACD,aAPD,CAQA;AARA,iBASK,IAAI,KAAKxH,YAAL,KAAsB,CAA1B,EAA6B;AAChC;AACA,oBAAMkD,EAAE,GAAG8D,CAAC,GAAGQ,CAAf;AACA,oBAAMrE,EAAE,GAAG+D,CAAC,GAAGM,CAAf;AAEAM,oBAAI,GAAG,CAAC5E,EAAR;AACA6E,oBAAI,GAAG,CAAC5E,EAAR;AACA6E,oBAAI,GAAGP,EAAE,IAAIT,CAAC,GAAG9D,EAAR,CAAT;AACA+E,oBAAI,GAAGP,EAAE,IAAIR,CAAC,GAAG/D,EAAR,CAAT;AACD,eATI,CAUL;AAVK,mBAWA;AACH,sBAAMD,GAAE,GAAGwD,IAAI,CAACwB,KAAL,CAAWV,CAAC,GAAG,GAAf,CAAX;;AACAM,sBAAI,GAAG,CAACd,CAAD,GAAK9D,GAAZ;AACA6E,sBAAI,GAAG,CAACb,CAAD,GAAKhE,GAAZ;AACA8E,sBAAI,GAAGP,EAAE,GAAGvE,GAAZ;AACA+E,sBAAI,GAAGP,EAAE,GAAGxE,GAAZ;AACD;;AAEDoD,cAAE,GAAGI,IAAI,CAACpB,GAAL,CAASoB,IAAI,CAACrB,GAAL,CAAStC,CAAT,EAAY+E,IAAZ,CAAT,EAA4BE,IAA5B,CAAL;AACAzB,cAAE,GAAGG,IAAI,CAACpB,GAAL,CAASoB,IAAI,CAACrB,GAAL,CAASrC,CAAT,EAAY+E,IAAZ,CAAT,EAA4BE,IAA5B,CAAL,CAvCK,CAyCL;;AACA,gBAAI3B,EAAE,KAAKvD,CAAP,IAAYwD,EAAE,KAAKvD,CAAvB,EAA0B;AACxB,mBAAKvD,GAAL,CAAS,YAAT,EACE,GADF,EACOsD,CADP,EAEE,WAFF,EAEeuD,EAFf,EAGE,MAHF,EAGUwB,IAHV,EAIE,MAJF,EAIUE,IAJV,EAKE,GALF,EAKOhF,CALP,EAME,WANF,EAMeuD,EANf,EAOE,MAPF,EAOUwB,IAPV,EAQE,MARF,EAQUE,IARV;AAUD;AACF;;AAED,iBAAO;AAAClF,aAAC,EAAEuD,EAAJ;AAAQtD,aAAC,EAAEuD;AAAX,WAAP;AACD;;;wCAEoD;AAAA,cAAvCxD,CAAuC,uEAAnC,KAAKpD,EAA8B;AAAA,cAA1BqD,CAA0B,uEAAtB,KAAKpD,EAAiB;AAAA,cAAbwD,CAAa,uEAAT,KAAKvD,EAAI;AACnD,cAAIsI,OAAO,GAAG,KAAd,CADmD,CAGnD;;AACA,cAAMC,WAAW,GAAG,KAAKC,UAAL,CAAgBjF,CAAhB,CAApB;;AACA,cAAIgF,WAAW,CAAChF,CAAZ,KAAkBA,CAAtB,EAAyB;AACvB+E,mBAAO,GAAG,IAAV;AACA/E,aAAC,GAAGgF,WAAW,CAAChF,CAAhB;AACAL,aAAC,GAAGqF,WAAW,CAACrF,CAAhB;AACAC,aAAC,GAAGoF,WAAW,CAACpF,CAAhB;AACD,WAVkD,CAYnD;;;AACA,cAAMsF,UAAU,GAAG,KAAKC,SAAL,CAAexF,CAAf,EAAkBC,CAAlB,CAAnB;;AACA,cAAID,CAAC,KAAKuF,UAAU,CAACvF,CAAjB,IAAsBC,CAAC,KAAKsF,UAAU,CAACtF,CAA3C,EAA8C;AAC5CmF,mBAAO,GAAG,IAAV;AACApF,aAAC,GAAGuF,UAAU,CAACvF,CAAf;AACAC,aAAC,GAAGsF,UAAU,CAACtF,CAAf;AACD;;AAED,iBAAO;AAAEmF,mBAAO,EAAPA,OAAF;AAAWpF,aAAC,EAADA,CAAX;AAAcC,aAAC,EAADA,CAAd;AAAiBI,aAAC,EAADA;AAAjB,WAAP;AACD;;;qDAM4B;AAC3B,cAAM4C,MAAM,GAAG,KAAKC,aAAL,EAAf;;AAEA,cAAID,MAAM,CAACmC,OAAX,EAAoB;AAClB,iBAAKxI,EAAL,GAAUqG,MAAM,CAACjD,CAAjB;AACA,iBAAKnD,EAAL,GAAUoG,MAAM,CAAChD,CAAjB;AACA,iBAAKnD,EAAL,GAAUmG,MAAM,CAAC5C,CAAjB;;AAEA,iBAAKyC,kBAAL;AACD;AACF;;;2CAEkBrD,K,EAAO;AAAA;;AACxB,eAAKgG,cAAL,CAAoBhG,KAApB;;AACA6D,+BAAqB,CAAC,YAAM;AAC1B,kBAAI,CAACD,aAAL,CAAmB,MAAI,CAACzG,EAAxB,EAA4B,MAAI,CAACC,EAAjC,EAAqC,MAAI,CAACC,EAA1C;;AACA,kBAAI,CAAC6C,UAAL,CAAgB,QAAhB;AACD,WAHoB,CAArB;AAID;;;6CAEoB;AACnB,cAAI,KAAK+F,4BAAT,EAAuC,KAAKA,4BAAL;AACxC;;;yCAE4B;AAAA;;AAAA,cAAdjG,KAAc,uEAAN,IAAM;AAC3B,cAAMkG,kBAAkB,GAAG,KAAKnJ,OAAL,CAAaoJ,KAAb,CAAmBC,UAA9C,CAD2B,CAG3B;AACA;;AACA,cAAI,CAAC,aAAaC,IAAb,CAAkBH,kBAAlB,CAAL,EAA4C;AAC1C;AACA,gBAAMI,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B,oBAAI,CAAC3C,kBAAL;;AACA,oBAAI,CAACzD,UAAL,CAAgB,QAAhB,EAF4B,CAI5B;AACA;AACA;;;AACA,oBAAI,CAACzC,OAAL,GAAe,KAAf;;AAEA,kBAAIuC,KAAJ,EAAW;AACT,sBAAI,CAACkC,0BAAL;AACD,eAFD,MAEO;AACL,sBAAI,CAAChC,UAAL,CAAgB,KAAhB;AACD;AACF,aAdD,CAF0C,CAkB1C;;;AACA,iBAAK+F,4BAAL,GAAoC,YAAM;AACxC,oBAAI,CAAClJ,OAAL,CAAaoJ,KAAb,CAAmBC,UAAnB,GAAgCF,kBAAhC;;AACA,oBAAI,CAACnJ,OAAL,CAAawJ,mBAAb,CAAiC,eAAjC,EAAkDD,eAAlD;;AACA,oBAAI,CAACL,4BAAL,GAAoC,IAApC;AACD,aAJD;;AAMA,iBAAKxI,OAAL,GAAe,IAAf;AACA,iBAAKV,OAAL,CAAayJ,gBAAb,CAA8B,eAA9B,EAA+CF,eAA/C;AACA,iBAAKvJ,OAAL,CAAaoJ,KAAb,CAAmBC,UAAnB,GAAgC,0DAAhC;AACD;AACF;;;kDAMyB;AACxB,cAAI,KAAKrJ,OAAL,CAAaoJ,KAAb,CAAmBM,WAAnB,IAAkC,KAAK1J,OAAL,CAAaoJ,KAAb,CAAmBM,WAAnB,KAAmC,MAAzE,EAAiF;AAC/E,iBAAKtK,IAAL,CACE,qDACA,4EAFF;AAID,WANuB,CAQxB;AACA;;;AACA,eAAKY,OAAL,CAAaoJ,KAAb,CAAmBM,WAAnB,GAAiC,MAAjC,CAVwB,CAWxB;AACA;AACA;;AACA,eAAK1J,OAAL,CAAaoJ,KAAb,CAAmBO,UAAnB,GAAgC,MAAhC;AACD;;;8CAEqB;AACpB,cAAI,KAAK3J,OAAL,CAAaoJ,KAAb,CAAmBQ,eAAvB,EAAwC;AACtC,iBAAKxK,IAAL,CACE,yDACA,oFAFF;AAID;;AAED,eAAKY,OAAL,CAAaoJ,KAAb,CAAmBQ,eAAnB,GAAqC,KAArC,CARoB,CASpB;AACA;AACA;AACA;AACA;AACA;AACD;;;sCAEapG,C,EAAGC,C,EAAGI,C,EAAG;AACrB,eAAK7D,OAAL,CAAaoJ,KAAb,CAAmBS,SAAnB,uBAA4CrG,CAA5C,iBAAoDC,CAApD,uBAAkEI,CAAlE,OADqB,CAErB;AACD;;;yCAEgB;AACf,cAAI,KAAK7D,OAAL,CAAaoJ,KAAb,CAAmBS,SAAvB,EAAkC;AAChC,iBAAKzK,IAAL,CACE,kDACA,iDADA,GAEA,mEAHF;AAKD;AACF;;;mCAEU0K,I,EAAM;AACf,cAAM1B,EAAE,GAAG,KAAKV,YAAhB;AACA,cAAMW,EAAE,GAAG,KAAKT,aAAhB;AACA,cAAMmC,IAAI,GAAG;AACXvG,aAAC,EAAE,KAAKpD,EADG;AAEXqD,aAAC,EAAE,KAAKpD,EAFG;AAGX4E,iBAAK,EAAE,KAAK3E,EAHD;AAIXsE,iBAAK,EAAEuC,IAAI,CAACmB,IAAL,CAAUF,EAAE,GAAG,KAAK9H,EAApB,CAJI;AAKXuE,kBAAM,EAAEsC,IAAI,CAACmB,IAAL,CAAUD,EAAE,GAAG,KAAK/H,EAApB,CALG;AAMX0J,yBAAa,EAAE5B,EANJ;AAOX6B,0BAAc,EAAE5B;AAPL,WAAb;AASA,cAAMxJ,KAAK,GAAGiL,IAAI,KAAK,QAAT,GAAoB,OAApB,GAA8B,KAA5C;AACA,eAAKjL,KAAL,EAAYiL,IAAI,CAACI,WAAL,EAAZ,EACE,GADF,EACYH,IAAI,CAACvG,CAAL,CAAO2G,OAAP,CAAe,CAAf,CADZ,EAEE,GAFF,EAEYJ,IAAI,CAACtG,CAAL,CAAO0G,OAAP,CAAe,CAAf,CAFZ,EAGE,OAHF,EAGYJ,IAAI,CAAC9E,KAAL,CAAWkF,OAAX,CAAmB,CAAnB,CAHZ,EAIE,OAJF,EAIYJ,IAAI,CAACnF,KAAL,CAAWuF,OAAX,CAAmB,CAAnB,CAJZ,EAKE,QALF,EAKYJ,IAAI,CAAClF,MAAL,CAAYsF,OAAZ,CAAoB,CAApB,CALZ,EAME,eANF,EAMoBJ,IAAI,CAACC,aANzB,EAOE,gBAPF,EAOoBD,IAAI,CAACE,cAPzB;AASA,eAAKG,IAAL,CAAUN,IAAV,EAAgBC,IAAhB;AACD;;;4BAhzBW;AACV,iBAAO,KAAKzJ,EAAZ;AACD;;;4BAEO;AACN,iBAAO,KAAKF,EAAZ;AACD;;;4BAEO;AACN,iBAAO,KAAKC,EAAZ;AACD;;;4BAEY;AACX,iBAAO,KAAKK,OAAZ;AACD;;;4BAEiB;AAChB,iBAAO,KAAKwB,YAAZ;AACD;;;4BAEa;AACZ,iBAAO,KAAKjB,WAAL,IAAoB,KAAKD,YAAhC;AACD;;;4BAEgB;AACf,iBAAO,KAAKC,WAAZ;AACD;;;4BAEiB;AAChB,iBAAO,KAAKD,YAAZ;AACD;;;4BAEc;AACb,iBAAO;AACLwC,aAAC,EAAE,KAAKpD,EADH;AAELqD,aAAC,EAAE,KAAKpD,EAFH;AAGLwD,aAAC,EAAE,KAAKvD;AAHH,WAAP;AAKD;;;4BAEkB;AACjB;AACA,iBAAO,KAAKN,OAAL,CAAaqK,WAAb,IAA4B,KAAKrK,OAAL,CAAasK,WAAhD;AACD;;;4BAEmB;AAClB;AACA,iBAAO,KAAKtK,OAAL,CAAauK,YAAb,IAA6B,KAAKvK,OAAL,CAAawK,YAAjD;AACD;;;4BAEmB;AAClB;AACA,iBAAO,KAAK3K,eAAL,CAAqBwK,WAArB,IAAoC,KAAKxK,eAAL,CAAqByK,WAAhE;AACD;;;4BAEoB;AACnB;AACA,iBAAO,KAAKzK,eAAL,CAAqB0K,YAArB,IAAqC,KAAK1K,eAAL,CAAqB2K,YAAjE;AACD;;;;MAnM+B9L,I;;sBAAbY,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6CC5BZmL,O","file":"lib.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Demo\"] = factory();\n\telse\n\t\troot[\"Demo\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\"object\"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=9)}([function(e,t,n){\"use strict\";var r=n(7);e.exports=r&&function(){var e=!1;try{var t=Object.defineProperty({},\"passive\",{get:function(){e=!0}});window.addEventListener(\"test\",null,t),window.removeEventListener(\"test\",null,t)}catch(t){e=!1}return e}()},function(e,t,n){\"use strict\";var r,o=\"object\"==typeof Reflect?Reflect:null,i=o&&\"function\"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&\"function\"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var u=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function o(){void 0!==i&&e.removeListener(\"error\",i),n([].slice.call(arguments))}var i;\"error\"!==t&&(i=function(n){e.removeListener(t,o),r(n)},e.once(\"error\",i)),e.once(t,o)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function f(e){if(\"function\"!=typeof e)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,u,s;if(f(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit(\"newListener\",t,n.listener?n.listener:n),i=e._events),u=i[t]),void 0===u)u=i[t]=n,++e._eventsCount;else if(\"function\"==typeof u?u=i[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=a(e))>0&&u.length>o&&!u.warned){u.warned=!0;var c=new Error(\"Possible EventEmitter memory leak detected. \"+u.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");c.name=\"MaxListenersExceededWarning\",c.emitter=e,c.type=t,c.count=u.length,s=c,console&&console.warn&&console.warn(s)}return e}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=v.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:\"function\"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,\"defaultMaxListeners\",{enumerable:!0,get:function(){return c},set:function(e){if(\"number\"!=typeof e||e<0||u(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||u(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=\"error\"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var u;if(t.length>0&&(u=t[0]),u instanceof Error)throw u;var s=new Error(\"Unhandled error.\"+(u?\" (\"+u.message+\")\":\"\"));throw s.context=u,s}var c=o[e];if(void 0===c)return!1;if(\"function\"==typeof c)i(c,this,t);else{var f=c.length,a=h(c,f);for(n=0;n<f;++n)i(a[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return f(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return f(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,u;if(f(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit(\"removeListener\",e,n.listener||t));else if(\"function\"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){u=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",e,u||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)\"removeListener\"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t){var n={left:0,top:0};e.exports=function(e,t,r){t=t||e.currentTarget||e.srcElement,Array.isArray(r)||(r=[0,0]);var o=e.clientX||0,i=e.clientY||0,u=(s=t,s===window||s===document||s===document.body?n:s.getBoundingClientRect());var s;return r[0]=o-u.left,r[1]=i-u.top,r}},function(e,t){e.exports=function(e,t){return{configurable:!0,enumerable:!0,get:e,set:t}}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},function(e,t,n){var r=n(2),o=n(1).EventEmitter;function i(e){var t=(e=e||{}).element||window,n=new o,i=e.position||[0,0];return!1!==e.touchstart&&(t.addEventListener(\"mousedown\",s,!1),t.addEventListener(\"touchstart\",u,!1)),t.addEventListener(\"mousemove\",s,!1),t.addEventListener(\"touchmove\",u,!1),n.position=i,n.dispose=function(){t.removeEventListener(\"mousemove\",s,!1),t.removeEventListener(\"mousedown\",s,!1),t.removeEventListener(\"touchmove\",u,!1),t.removeEventListener(\"touchstart\",u,!1)},n;function u(e){s(e.targetTouches[0])}function s(e){r(e,t,i),n.emit(\"move\",e)}}e.exports=function(e){return i(e).position},e.exports.emitter=function(e){return i(e)}},function(e,t,n){(function(t){var n=/^\\s+|\\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,u=parseInt,s=\"object\"==typeof t&&t&&t.Object===Object&&t,c=\"object\"==typeof self&&self&&self.Object===Object&&self,f=s||c||Function(\"return this\")(),a=Object.prototype.toString,l=Math.max,v=Math.min,d=function(){return f.Date.now()};function p(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function y(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&\"[object Symbol]\"==a.call(e)}(e))return NaN;if(p(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(n,\"\");var s=o.test(e);return s||i.test(e)?u(e.slice(2),s?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,u,s,c,f=0,a=!1,h=!1,m=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");function x(t){var n=r,i=o;return r=o=void 0,f=t,u=e.apply(i,n)}function g(e){return f=e,s=setTimeout(w,t),a?x(e):u}function b(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-f>=i}function w(){var e=d();if(b(e))return E(e);s=setTimeout(w,function(e){var n=t-(e-c);return h?v(n,i-(e-f)):n}(e))}function E(e){return s=void 0,m&&r?x(e):(r=o=void 0,u)}function L(){var e=d(),n=b(e);if(r=arguments,o=this,c=e,n){if(void 0===s)return g(c);if(h)return s=setTimeout(w,t),x(c)}return void 0===s&&(s=setTimeout(w,t)),u}return t=y(t)||0,p(n)&&(a=!!n.leading,i=(h=\"maxWait\"in n)?l(y(n.maxWait)||0,t):i,m=\"trailing\"in n?!!n.trailing:m),L.cancel=function(){void 0!==s&&clearTimeout(s),f=0,r=c=o=s=void 0},L.flush=function(){return void 0===s?u:E(d())},L}}).call(this,n(8))},function(e,t){e.exports=!0},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";n.r(t);var r=n(1),o=n(0),i=n.n(o);function u(e){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||\"object\"!==u(t)&&\"function\"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=!!i.a&&{capture:!1,passive:!0},d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};window.addEventListener(\"touchmove\",(function(){}));var p=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=c(n);function n(e){var r,o,u,s,c,f,l,p,y,h,m,x,g=e.source,b=void 0===g?document:g,w=e.update,E=e.multiplier,L=void 0===E?1:E,_=e.friction,O=void 0===_?.92:_,j=e.initialValues,T=e.boundX,P=e.boundY,R=e.bounce,S=void 0===R||R;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n),r=t.call(this);var C=0,M=0,B=.3*L,z=!1,F=!1,A=!1,N=!1,Y=[],D=null;!function(){if(!(b=\"string\"==typeof b?document.querySelector(b):b))throw new Error(\"IMPETUS: source not found.\");if(!w)throw new Error(\"IMPETUS: update function not defined.\");j&&(j[0]&&(C=j[0]),j[1]&&(M=j[1]),k()),T&&(o=T[0],u=T[1]),P&&(s=P[0],c=P[1]),b.addEventListener(\"touchstart\",U,v),b.addEventListener(\"mousedown\",U,v)}();var X=r.emit.bind(a(r));function q(){document.removeEventListener(\"touchmove\",$,!!i.a&&{passive:!1}),document.removeEventListener(\"touchend\",W,v),document.removeEventListener(\"touchcancel\",K,v),document.removeEventListener(\"mousemove\",$,!!i.a&&{passive:!1}),document.removeEventListener(\"mouseup\",W,v)}function k(){w.call(b,C,M,D)}function I(e){if(\"touchmove\"===e.type||\"touchstart\"===e.type||\"touchend\"===e.type){var t=e.targetTouches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY,id:t.identifier}}return{x:e.clientX,y:e.clientY,id:null}}function U(e){D=e;var t=I(e);F||A||(F=!0,N=!1,h=t.id,f=p=t.x,l=y=t.y,Y=[],V(f,l),q(),document.addEventListener(\"touchmove\",$,!!i.a&&{passive:!1}),document.addEventListener(\"touchend\",W,v),document.addEventListener(\"touchcancel\",K,v),document.addEventListener(\"mousemove\",$,!!i.a&&{passive:!1}),document.addEventListener(\"mouseup\",W,v),X(\"start\",{x:p,y:y,event:D}))}function $(e){e.preventDefault(),D=e;var t=I(e);F&&t.id===h&&(p=t.x,y=t.y,V(f,l),function(){z||d(Z);z=!0}())}function W(e){D=e;var t=I(e);F&&t.id===h&&K()}function K(){F=!1,V(f,l),function(){var e=Y[0],t=Y[Y.length-1],n=t.x-e.x,r=t.y-e.y,o=(t.time-e.time)/15/L;m=n/o||0,x=r/o||0;var i=H();Math.abs(m)>1||Math.abs(x)>1||!i.inBounds?(N=!0,d(J)):X(\"end\",{x:C,y:M,event:D})}(),q()}function V(e,t){for(var n=Date.now();Y.length>0&&!(n-Y[0].time<=100);)Y.shift();Y.push({x:e,y:t,time:n})}function Z(){var e=p-f,t=y-l;if(C+=e*L,M+=t*L,S){var n=H();0!==n.x&&(C-=e*G(n.x)*L),0!==n.y&&(M-=t*G(n.y)*L)}else H(!0);k(),f=p,l=y,z=!1}function G(e){return 5e-6*Math.pow(e,2)+1e-4*e+.55}function H(e){var t=0,n=0;return void 0!==o&&C<o?t=o-C:void 0!==u&&C>u&&(t=u-C),void 0!==s&&M<s?n=s-M:void 0!==c&&M>c&&(n=c-M),e&&(0!==t&&(C=t>0?o:u),0!==n&&(M=n>0?s:c)),{x:t,y:n,inBounds:0===t&&0===n}}function J(){if(N){C+=m*=O,M+=x*=O;var e=H();if(Math.abs(m)>B||Math.abs(x)>B||!e.inBounds){if(S){if(0!==e.x)if(e.x*m<=0)m+=.04*e.x;else{var t=e.x>0?2.5:-2.5;m=.11*(e.x+t)}if(0!==e.y)if(e.y*x<=0)x+=.04*e.y;else{var n=e.y>0?2.5:-2.5;x=.11*(e.y+n)}}else 0!==e.x&&(C=e.x>0?o:u,m=0),0!==e.y&&(M=e.y>0?s:c,x=0);k(),d(J)}else N=!1,X(\"end\",{x:C,y:M,event:D})}}return r.destroy=function(){return b.removeEventListener(\"touchstart\",U),b.removeEventListener(\"mousedown\",U),q(),null},r.pause=function(){q(),F=!1,A=!0},r.resume=function(){A=!1},r.setValues=function(e,t){\"number\"==typeof e&&(C=e),\"number\"==typeof t&&(M=t)},r.setMultiplier=function(e){B=.3*(L=e)},r.setBoundX=function(e){o=e[0],u=e[1]},r.setBoundY=function(e){s=e[0],c=e[1]},r}return n}(r.EventEmitter),y=n(4),h=n.n(y),m=n(3),x=n.n(m),g=n(2),b=n.n(g),w=!!i.a&&{capture:!1,passive:!0};function E(){this.position=[0,0],this.touch=null}var L=function(e){e=e||window;var t=new r.EventEmitter,n=[null,null],o=0,i=0,u=!1,s=!1;return Object.defineProperties(t,{pinching:x()((function(){return 2===o})),fingers:x()((function(){return n}))}),f(),t.enable=f,t.disable=function(){if(!s)return;s=!1,o=0,n[0]=null,n[1]=null,i=0,u=!1,e.removeEventListener(\"touchstart\",a,w),e.removeEventListener(\"touchmove\",l,w),e.removeEventListener(\"touchend\",v,w),e.removeEventListener(\"touchcancel\",v,w)},t.indexOfTouch=c,t;function c(e){for(var t=e.identifier,r=0;r<n.length;r++)if(n[r]&&n[r].touch&&n[r].touch.identifier===t)return r;return-1}function f(){s||(s=!0,e.addEventListener(\"touchstart\",a,w),e.addEventListener(\"touchmove\",l,w),e.addEventListener(\"touchend\",v,w),e.addEventListener(\"touchcancel\",v,w))}function a(r){for(var s=0;s<r.changedTouches.length;s++){var f=r.changedTouches[s];if(-1===c(f.identifier)&&o<2){var a=0===o,l=n[0]?1:0,v=n[0]?0:1,p=new E;n[l]=p,o++,p.touch=f,b()(f,e,p.position);var y=n[v]?n[v].touch:void 0;if(t.emit(\"place\",f,y),!a){var h=d();u=!1,t.emit(\"start\",h,r),i=h}}}}function l(r){for(var u=!1,s=0;s<r.changedTouches.length;s++){var f=r.changedTouches[s],a=c(f);-1!==a&&(u=!0,n[a].touch=f,b()(f,e,n[a].position))}if(2===o&&u){var l=d();t.emit(\"change\",l,i,r),i=l}}function v(e){for(var r=0;r<e.changedTouches.length;r++){var s=e.changedTouches[r],f=c(s);if(-1!==f){n[f]=null,o--;var a=0===f?1:0,l=n[a]?n[a].touch:void 0;t.emit(\"lift\",s,l,e)}}u||2===o||(u=!0,t.emit(\"end\",i,e))}function d(){return o<2?0:h()(n[0].position,n[1].position)}},_=n(5),O=n.n(_),j=n(6),T=n.n(j);t.default=function(e,t,n){function r(e){n.onStart&&n.onStart(e)}function o(e){n.onEnd&&requestAnimationFrame((function(){n.onEnd(e)}))}e instanceof Function&&(t=e,e=document.documentElement||document.body),n||(n={});var i=null,u=null,s=null;\"string\"==typeof e&&(e=document.querySelector(e));var c,f,a=O.a.emitter();function l(t){return t||(t=e.getBoundingClientRect()),{x:a.position[0]-t.x,y:a.position[1]-t.y}}var v={x:0,y:0,px:0,py:0},d=0,y=0;(c=new p({source:e,update:function(n,r,o){var i=l(e.getBoundingClientRect()),u={srcElement:f,event:o,target:e,type:\"mouse\",dx:n-d,dy:r-y,dz:0,x:i.x,y:i.y,x0:v.x,y0:v.y,px0:v.px,py0:v.py};d=n,y=r,t(u)},multiplier:n.friction||1,friction:n.multiplier||.75,boundX:n.boundX,boundY:n.boundY,bounce:n.bounce})).on(\"start\",(function(t){var n=t.event,o=e.getBoundingClientRect(),i=l(o);v={x:i.x,y:i.y,px:i.x/o.width,py:i.y/o.height},r({srcElement:f=n.srcElement,event:n,target:e,type:\"mouse\",dx:0,dy:0,dz:0,x:i.x,y:i.y,x0:v.x,y0:v.y,px0:v.px,py0:v.py})})),c.on(\"end\",(function(t){var n=t.event,r=l();o({srcElement:f,event:n,target:e,type:\"mouse\",dx:0,dy:0,dz:0,x:r.x,y:r.y,x0:v.x,y0:v.y,px0:v.px,py0:v.py})})),[window,document,document.documentElement,document.body].indexOf(e);var h=null;function m(){if(h)return h;var c=function(c){n.passive||c.preventDefault();var f=e.getBoundingClientRect(),a=c.clientX-f.x,v=c.clientY-f.y,d=function(t){t||(t={});var n=e.getBoundingClientRect(),c=l(n),f=u||{},a=s||{},v=null!=t.x?t.x:c.x,d=null!=t.y?t.y:c.y,p=null!=a.x?a.x:v,y=null!=a.y?a.y:d,h=null!=t.dx?t.dx:v-p,m=null!=t.dy?t.dy:d-y,x=null!=t.dz?t.dz:0,g=null!=f.x0?f.x0:null!=t.x0?t.x0:c.x,b=null!=f.y0?f.y0:null!=t.y0?t.y0:c.y,w=null!=f.px0?f.px0:g/n.width,E=null!=f.py0?f.py0:b/n.height,L={type:t.type||\"mouse\",srcElement:t.srcElement||e,target:e,event:t.event,x:v,y:d,dx:h,dy:m,dz:x,x0:g,y0:b,px0:w,py0:E},_=!1;i||(_=!0,u=s=L,r(L),i=T()((function(e){o(e),i=null,u=null,s=null}),60)),i(L);var O={isStart:_,init:u,last:s,event:L};return s=O.event,O}({dx:0,dy:0,dz:.5*c.deltaY,x:a,y:v,x0:a,y0:v,srcElement:c.srcElement,event:c,type:\"mouse\"});t(d.event)};return e.addEventListener(\"wheel\",c,{passive:!!n.passive}),c}function x(){h&&(h=e.removeEventListener(\"wheel\",h,{passive:!0}))}h=m();var g,b=L();function w(){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.threshold||500,i=function(n){t?(t=clearTimeout(t),e&&e(n)):t=setTimeout((function(){t=null}),o)};return n.addEventListener(\"click\",i,{passive:!0}),function(){return n.removeEventListener(\"click\",i,{passive:!0}),null}}((function(){var t,r=e.getBoundingClientRect(),o=l(r);t={srcElement:e,target:e,type:\"mouse\",dx:0,dy:0,dz:0,x:o.x,y:o.x,x0:o.x,y0:o.x,px0:o.x/r.width,py0:o.y/r.height},n.onDoubleTap&&n.onDoubleTap(t)}),e)}b.on(\"start\",(function(t,n){var o,i,u=(o=b.fingers[0],[.5*(i=b.fingers[1]).position[0]+.5*o.position[0],.5*i.position[1]+.5*o.position[1]]),s=e.getBoundingClientRect(),f=u[0],a=u[1];(function(t,n,r){return r||(r=e.getBoundingClientRect()),t>=r.x&&t<=r.x+r.width&&n>=r.y&&n<=r.y+r.height})(f,a,s)&&(f-=s.x,a-=s.y,g={x:f,y:a,px0:f/s.width,py0:a/s.height},c&&c.pause(),r({srcElement:n.srcElement,event:n,target:e,type:\"touch\",dx:0,dy:0,dz:0,x:g.x,y:g.y,x0:g.x,y0:g.y,px0:g.px0,py0:g.py0}))})),b.on(\"end\",(function(t,n){g&&(c&&c.resume(),o({srcElement:n.srcElement,event:n,target:e,type:\"touch\",dx:0,dy:0,dz:0,x:g.x,y:g.y,x0:g.x,y0:g.y,px0:g.px0,py0:g.py0}),g=null)})),b.on(\"change\",(function(n,r,o){b.pinching&&g&&t({srcElement:e,event:o,target:e,type:\"touch\",dx:0,dy:0,dz:1.3*-(n-r),x:g.x,y:g.x,x0:g.x,y0:g.x,px0:g.px0,py0:g.py0})}));var E=w(),_=function(){a.dispose(),c.destroy(),x(),E&&(E=E()),b.disable()};return _.disablePan=function(){c&&c.pause()},_.enablePan=function(){c&&c.resume()},_.disableZoom=function(){b&&b.disable(),x(),E&&(E=E())},_.enableZoom=function(){b&&b.enable(),h=m(),E=w()},_}}])}));","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fit = (parent, child, fitMode = 'fill') => {\n    if (fitMode === 'scale-down') {\n        if (child.width <= parent.width && child.height <= parent.height) {\n            fitMode = 'none';\n        }\n        else {\n            fitMode = 'contain';\n        }\n    }\n    if (fitMode === 'cover' || fitMode === 'contain') {\n        const wr = parent.width / child.width;\n        const hr = parent.height / child.height;\n        const ratio = fitMode === 'cover' ? Math.max(wr, hr) : Math.min(wr, hr);\n        const width = child.width * ratio;\n        const height = child.height * ratio;\n        const size = { width, height };\n        return size;\n    }\n    if (fitMode === 'none')\n        return child;\n    // default case, fitMode === 'fill'\n    return parent;\n};\nexports.position = (parent, child, left = '50%', top = '50%') => {\n    const x = lengthToPixels(left, parent.width, child.width);\n    const y = lengthToPixels(top, parent.height, child.height);\n    const point = { x, y };\n    return point;\n};\nexports.fitAndPosition = (parent, child, fitMode = 'fill', left = '50%', top = '50%') => {\n    const fitted = exports.fit(parent, child, fitMode);\n    const { x, y } = exports.position(parent, fitted, left, top);\n    const { width, height } = fitted;\n    const rect = { x, y, width, height };\n    return rect;\n};\nconst lengthToPixels = (length, parent, child) => length.endsWith('%') ?\n    (parent - child) * (parseFloat(length) / 100) :\n    parseFloat(length);\n//# sourceMappingURL=fitter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fitter_1 = require(\"./fitter\");\nexports.fit = fitter_1.fit;\nexports.position = fitter_1.position;\nexports.fitAndPosition = fitter_1.fitAndPosition;\nvar transform_fitted_point_1 = require(\"./transform-fitted-point\");\nexports.transformFittedPoint = transform_fitted_point_1.transformFittedPoint;\nvar predicates_1 = require(\"./predicates\");\nexports.isFit = predicates_1.isFit;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fitModes = {\n    contain: true,\n    cover: true,\n    fill: true,\n    none: true,\n    'scale-down': true\n};\nexports.isFit = (value) => value in fitModes;\n//# sourceMappingURL=predicates.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fitter_1 = require(\"./fitter\");\nexports.transformFittedPoint = (fittedPoint, parent, child, fitMode = 'fill', left = '50%', top = '50%') => {\n    const { x: positionedX, y: positionedY, width: fittedWidth, height: fittedHeight } = fitter_1.fitAndPosition(parent, child, fitMode, left, top);\n    const wRatio = child.width / fittedWidth;\n    const hRatio = child.height / fittedHeight;\n    const x = (fittedPoint.x - positionedX) * wRatio;\n    const y = (fittedPoint.y - positionedY) * hRatio;\n    const childPoint = { x, y };\n    return childPoint;\n};\n//# sourceMappingURL=transform-fitted-point.js.map","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import pz from '@thesoulfresh/pan-zoom';\nimport EventEmitter from 'eventemitter3';\nimport debounce from 'lodash.debounce';\nimport { fitAndPosition } from 'object-fit-math';\nimport ResizeObserver from 'resize-observer-polyfill';\n\n// Base class to keep non-pan-zoom related\n// functionality out of PanZ.\nclass Base extends EventEmitter {\n  constructor(debug = false) {\n    super();\n\n    // Setup configurable logging.\n    const bound = level => console[level].bind(window.console, '[PanZ]');\n    const noop = () => {};\n    ['debug', 'log', 'info'].forEach(level => {\n      this[level] = debug ? bound(level) : noop;\n    });\n\n    // Always log the following...\n    this.error = bound('error');\n    this.warn = bound('warn');\n  }\n}\n\n\n// TODO Bounds setting where the element has to be inside bounding element\n// if smaller or has to touch the edges if larger.\nexport default class PanZ extends Base {\n  constructor(\n    {\n      minZoom = 0.3,\n      maxZoom = 4,\n      zoomSpeed = 1,\n      zoomEnabled = true,\n      panEnabled = true,\n      bounds = 0.8,\n      boundingElement,\n      gestureTimeout = 60,\n      initialFit = null,\n    } = {},\n    element,\n    verbose\n  ) {\n    super(verbose);\n\n    this.log('created with', arguments);\n\n    this._x = 0;\n    this._y = 0;\n    // Element scale value.\n    this._z = 1;\n    // The focus point of movement.\n    this._cx = 0;\n    this._cy = 0;\n    this.boundingType = 0;\n    this._moving = false;\n\n    this.onResize = debounce(this.onResize.bind(this), 300);\n    this.onGestureStart = this.onGestureStart.bind(this);\n    this.onGestureChange = this.onGestureChange.bind(this);\n    this.onGestureEnd = this.onGestureEnd.bind(this);\n    this.onDoubleClick = this.onDoubleClick.bind(this);\n\n    this.bounds = bounds;\n    this.boundingElement = boundingElement;\n    this._zoomEnabled = panEnabled;\n    this._panEnabled = zoomEnabled;\n    this._zoomSpeed = zoomSpeed / 100;\n    this.minZoom = minZoom;\n    this.maxZoom = maxZoom;\n    this.initialFit = initialFit;\n    this.gestureTimeout = gestureTimeout;\n\n    if (element) this.init(element, {});\n  }\n\n  init(element, options) {\n    this.destroy();\n\n    this.element = element;\n\n    // Apply any options the user wants to update.\n    if (options) {\n      for (let key in options)\n        this[key] = options[key];\n    }\n\n    // Initialize the pan zoom tracker.\n    this._initPanZoom();\n\n    // Setup the necessary transform settings and warn the\n    // user if we are going to change their settings.\n    this._setTransformOrigin();\n    this._setSelectionProperties();\n    this._testTransform();\n\n    // If a bounding element wasn't set, the use the element itself.\n    if (!this.boundingElement) this.boundingElement = element;\n\n    this._resizeObserver = new ResizeObserver(this.onResize);\n    this._resizeObserver.observe(this.boundingElement);\n\n    this.info('initialized with', arguments);\n    this.debug('settings:', this);\n\n    if (this.initialFit === 'center') this.center(false, true);\n    else if (this.initialFit === 'contain') this.contain(false, true);\n    else if (this.initialFit === 'cover') this.cover(false, true);\n\n    this._initialized = true;\n  }\n\n  destroy() {\n    if (this.element) {\n      // Cancel debounced functions.\n      if (this.onResize.cancel) this.onResize.cancel();\n\n      // Destroy pan/zoom functionality.\n      this._destroyPanZoom();\n\n      // Remove resize observer.\n      this._resizeObserver.disconnect();\n\n      // Remove listeners to this object.\n      this.removeAllListeners();\n\n      // Clean up DOM references\n      this.element = null;\n      this.boundingElement = null;\n      this._initialized = false;\n\n      this.info('destroyed');\n    }\n  }\n\n  _initPanZoom() {\n    if (!this.unpz && this.element && this.enabled) {\n      // TODO Configure pan friction and clamp animation to match zoomSpeed\n      this.unpz = new pz(\n        this.element,\n        this.onGestureChange,\n        {\n          onStart: this.onGestureStart,\n          onEnd: this.onGestureEnd,\n          onDoubleTap: this.onDoubleClick,\n        }\n      );\n\n      this._moving = false;\n\n      // TODO Verify this\n      if (!this._panEnabled) this.disablePan();\n      if (!this._zoomEnabled) this.disableZoom();\n    }\n  }\n\n  _destroyPanZoom() {\n    if (this.unpz) {\n      this.unpz();\n      this.unpz = null;\n      this._moving = false;\n    }\n  }\n\n  get scale() {\n    return this._z;\n  }\n\n  get x() {\n    return this._x;\n  }\n\n  get y() {\n    return this._y;\n  }\n\n  get moving() {\n    return this._moving;\n  }\n\n  get initialized() {\n    return this._initialized;\n  }\n\n  get enabled() {\n    return this._panEnabled || this._zoomEnabled;\n  }\n\n  get panEnabled() {\n    return this._panEnabled;\n  }\n\n  get zoomEnabled() {\n    return this._zoomEnabled;\n  }\n\n  get position() {\n    return {\n      x: this._x,\n      y: this._y,\n      z: this._z,\n    };\n  }\n\n  get elementWidth() {\n    // offsetWidth is not defined for SVG elements, so use clientWidth as a fallback.\n    return this.element.offsetWidth || this.element.clientWidth;\n  }\n\n  get elementHeight() {\n    // offsetHeight is not defined for SVG elements, so use clientHeight as a fallback.\n    return this.element.offsetHeight || this.element.clientHeight;\n  }\n\n  get boundingWidth() {\n    // offsetWidth is not defined for SVG elements, so use clientWidth as a fallback.\n    return this.boundingElement.offsetWidth || this.boundingElement.clientWidth;\n  }\n\n  get boundingHeight() {\n    // offsetHeight is not defined for SVG elements, so use clientHeight as a fallback.\n    return this.boundingElement.offsetHeight || this.boundingElement.clientHeight;\n  }\n\n  enable() {\n    this.enablePan();\n    this.enableZoom();\n    this._initPanZoom();\n  }\n\n  disable() {\n    this.disablePan();\n    this.disableZoom();\n    this._destroyPanZoom();\n  }\n\n  enablePan() {\n    this._panEnabled = true;\n    this.unpz.enablePan();\n    this.info('pan enabled');\n  }\n\n  disablePan() {\n    this._panEnabled = false;\n    this.unpz.disablePan();\n    // Disabling pan-zoom will stop all events an we will\n    // nolonger recieve the gesture end event, so we need\n    // to clean up the moving state here.\n    this._moving = false;\n\n    this.info('pan disabled');\n  }\n\n  enableZoom() {\n    this._zoomEnabled = true;\n    this.unpz.enableZoom();\n    this.info('zoom enabled');\n  }\n\n  disableZoom() {\n    this._zoomEnabled = false;\n    this.unpz.disableZoom();\n    // Disabling pan-zoom will stop all events an we will\n    // nolonger recieve the gesture end event, so we need\n    // to clean up the moving state here.\n    this._moving = false;\n\n    this.info('zoom disabled');\n  }\n\n  reset(clamp, animated) {\n    this._emitState('start');\n    this._setState(0, 0, 1, clamp, animated);\n  }\n\n  center(animated, immediate) {\n    this._emitState('start');\n    const t = this._percentToTranslation(0.5, 0.5);\n    this._setState(t.x, t.y, this._z, false, animated, immediate);\n  }\n\n  contain(animated, immediate) {\n    this._fitToBounds('contain', false, animated, immediate);\n  }\n\n  cover(animated, immediate) {\n    this._fitToBounds('cover', false, animated, immediate);\n  }\n\n  scaleDown(animated, immediate) {\n    this._fitToBounds('scale-down', false, animated, immediate);\n  }\n\n  panTo(px, py, clamp, animated) {\n    this._emitState('start');\n    const t = this._percentToTranslation(px, py);\n    this._setState(t.x, t.y, this._z, clamp, animated);\n  }\n\n  zoomTo(z = 1, cpx = 0.5, cpy = 0.5, clamp, animated) {\n    this._emitState('start');\n    const nz = this._scaleToScaleDelta(z);\n    // TODO Use _setState instead?\n    this.zoomBy(nz, cpx, cpy, clamp, animated);\n  }\n\n  centerOn(px = 0.5, py = 0.5, z = this._z, clamp, animated) {\n    this._emitState('start');\n    const t = this._percentToTranslation(px, py);\n\n    // const dz = this._scaleToScaleDelta(z);\n    const dz = z - this._z;\n    const p = this._getPositionAdjustedForScale(dz, px, py);\n\n    const x = t.x + p.x;\n    const y = t.y + p.y;\n\n    this._setState(x, y, z, clamp, animated);\n  }\n\n  zoomToArea(/*top, left, bottom, right, clamp = !!this.bounds*/) {\n    // this._emitState('start');\n    // parameters should be a percentage?\n  }\n\n  _scaleToScaleDelta(z) {\n    return (this._z - z) / this._zoomSpeed;\n  }\n\n  _percentToTranslation(px, py) {\n    const bw = this.boundingWidth; //this.boundingElement.offsetWidth;\n    const bh = this.boundingHeight; //this.boundingElement.offsetHeight;\n    const rect = this.element.getBoundingClientRect();\n    return {\n      x: (bw/2) - ( rect.width * px),\n      y: (bh/2) - (rect.height * py),\n    };\n  }\n\n  // For ease of use, expose methods to determine object-fit sizes\n  // so consumers can use it to determine zoom levels.\n  getContainSize(element = this.element, bounds = this.boundingElement) {\n    const parent = bounds.getBoundingClientRect();\n    const child = element.getBoundingClientRect();\n    const fit = fitAndPosition(parent, child, 'contain', '50%', '50%');\n    return {\n      ...fit,\n      scale: fit.width / child.width,\n    };\n  }\n\n  getCoverSize(element = this.element, bounds = this.boundingElement) {\n    const parent = bounds.getBoundingClientRect();\n    const child = element.getBoundingClientRect();\n    const fit = fitAndPosition(parent, child, 'cover', '50%', '50%');\n    return {\n      ...fit,\n      scale: fit.width / child.width,\n    };\n  }\n\n  getScaleDownSize(element = this.element, bounds = this.boundingElement) {\n    const parent = bounds.getBoundingClientRect();\n    const child = element.getBoundingClientRect();\n    const fit = fitAndPosition(parent, child, 'scale-down', '50%', '50%');\n    return {\n      ...fit,\n      scale: fit.width / child.width,\n    };\n  }\n\n  _fitToBounds(type = 'contain', clamp, animated, immediate) {\n    const parent = this.boundingElement.getBoundingClientRect();\n    const child = this.element.getBoundingClientRect();\n    const {x, y, width} = fitAndPosition(parent, child, type, '50%', '50%');\n    let z = (width / child.width) * this._z;\n\n    // this.debug('FIT TO BOUNDS',\n    //   'x', x,\n    //   'y', y,\n    //   'z', z,\n    //   'width', width,\n    //   'height', height,\n    //   'element', this.element,\n    //   'bounding element', this.boundingElement,\n    // );\n    this._emitState('start');\n    this._setState(x, y, z, clamp, animated, immediate);\n  }\n\n  onGestureStart() {\n    this._moving = true;\n    // These events will contain the values before any changes.\n    this._emitState('start');\n    this._emitState('gesturestart');\n  }\n\n  onGestureEnd() {\n    this._moving = false;\n    this._clampStateAfterTransition();\n    this._emitState('end');\n    this._emitState('gestureend');\n  }\n\n  onGestureChange({\n    dx = 0, // Change in x position (when panning only)\n    dy = 0, // Change in y position (when panning only)\n    dz = 0, // Change in scale (when mouse or touch zooming only)\n    // Panning = Initial x/y of the mouse relative to the top left of the element.\n    // Zooming = Initial x/y of the center of the zoom gesture relative to the\n    //   top left of the element at time of zoom start.\n    // x0,\n    // y0,\n    // x,\n    // y,\n    px0,\n    py0,\n    event,\n  }) {\n    if (this.enabled) {\n      event.preventDefault();\n\n      // this.debug(\n      //   'CHANGE',\n      //   'dx', dx,\n      //   'dy', dy,\n      //   'dz', dz,\n      //   'px0', px0,\n      //   'py0', py0,\n      // );\n\n      // New values\n      let nx = this._x;\n      let ny = this._y;\n      let nz = this._z;\n\n      // Update the pan position.\n      if (this._panEnabled) {\n        nx += dx;\n        ny += dy;\n      }\n\n      if (this._zoomEnabled) {\n        const p = this._calculatePositionForZoom(this._z, dz, px0, py0);\n        // this.log(\n        //   'SCALE ADJUSTED POSITION',\n        //   '_z', this._z,\n        //   'dz', dz,\n        //   'nx', nx,\n        //   'ny', ny,\n        //   'nz', nz,\n        //   'p', p\n        // );\n\n        // Adjust to keep the focus centered around the mouse.\n        nx += p.x;\n        ny += p.y;\n\n        // Update the zoom value.\n        nz = p.z;\n      }\n\n      this._gestureUpdate(nx, ny, nz, px0, py0);\n    }\n  }\n\n  /**\n   * Pan the element from it's current position by some number of pixels.\n   * @param {number} [dx] - Horizontal pixels to move by.\n   * @param {number} [dy] - Vertical pixels to move by.\n   */\n  panBy(dx, dy, clamp, animated) {\n    // New values\n    let x = this._x + dx;\n    let y = this._y + dy;\n\n    this._setState(x, y, this._z, clamp, animated);\n  }\n\n  /**\n   * Zoom the elment from it's current zoom around a center point.\n   * @param {number} [dz] - Scale to add/subtract from the current scale.\n   * @param {number} [cx] - X center of scaling as a percentage of the element width.\n   * @param {number} [cy] - Y center of scalling as a percentage of the element height.\n   */\n  zoomBy(dz, cpx, cpy, clamp, animated) {\n    // New values\n    let nx = this._x;\n    let ny = this._y;\n    let nz = this._z;\n\n    const p = this._calculatePositionForZoom(this._z, dz, cpx, cpy);\n    // Adjust to keep the focus centered around the mouse.\n    nx += p.x;\n    ny += p.y;\n\n    // Update the zoom value.\n    nz = p.z;\n\n    this._setState(nx, ny, nz, clamp, animated);\n  }\n\n  onDoubleClick({px0, py0}) {\n    if (this._zoomEnabled) {\n      let max = this.maxZoom;\n      let min = this.minZoom;\n\n      if (this.initialFit) {\n        if (this.initialFit === 'contain') min = this.getContainSize().scale;\n        else if (this.initialFit === 'cover') min = this.getCoverSize().scale;\n        else if (this.initialFit === 'scale-down') min = this.getScaleDownSize().scale;\n      }\n\n      const mid = min + ((max - min) / 2);\n      const z = this._z > mid ? min : max;\n      const dz = (this._z - z) / this._zoomSpeed;\n      this.log('DOUBLE CLICK',\n        'this._z', this._z,\n        'mid', mid,\n        'z', z,\n        'dz', dz,\n      );\n\n      this.zoomBy(dz, px0, py0, true);\n    }\n  }\n\n  onResize() {\n    this._clampStateAfterTransition();\n    this.info('resize end');\n  }\n\n  _setState(x, y, z, clamp, animated = true, immediate) {\n    if (animated) {\n      this._transitionTo(x, y, z, clamp);\n    } else {\n      this.update(x, y, z, clamp, immediate);\n    }\n  }\n\n  _transitionTo(x = 0, y = 0, z = 1, clamp) {\n    if (this._x !== x || this._y !== y || this._z !== z) {\n      this.log('TRANSITION TO',\n        'x', x,\n        'y', y,\n        'z', z,\n      );\n\n      this._x = x;\n      this._y = y;\n      this._z = z;\n\n      this._transitionToState(clamp);\n    }\n  }\n\n  /**\n   * Cancel any existing request animation frame\n   * callbacks.\n   */\n  _cancelRAF() {\n    if (this.rafId) {\n      cancelAnimationFrame(this.rafId);\n      this.rafId = null;\n    }\n  }\n\n  /**\n   * Handle a programatic update. This will set\n   * the current state and schedule a UI update.\n   * It will also emit an update event.\n   */\n  update(x, y, z, clamp = true, immediate = false) {\n    // If not in immediate mode, ensure moving is set\n    // until the requestAnimationFrame is called.\n    if (!immediate) this._moving = true;\n\n    if (clamp) {\n      const result = this._clampPanZoom(x, y, z);\n      this._x = result.x;\n      this._y = result.y;\n      this._z = result.z;\n    } else {\n      this._x = x;\n      this._y = y;\n      this._z = z;\n    }\n    // Cancel any existing raf or transitions\n    this._cancelRAF();\n    this._cancelTransitions();\n\n    // immediate mode is only used during initialFit to ensure\n    // that the target element doesn't jump on screen. This will\n    // also bypass event emission because it should be transparent\n    // to users of this library.\n    if (immediate) {\n      this._setTransform(this._x, this._y, this._z);\n    } else {\n      // Schedule a new update\n      this.rafId = requestAnimationFrame(() => {\n        this._setTransform(this._x, this._y, this._z);\n        this.rafId = null;\n        this._moving = false;\n        this._emitState('update');\n      });\n    }\n  }\n\n  /**\n   * Handle updates as a result of a user gesture.\n   * This will set the current state and schedule UI\n   * updates. It will also emit start/update/end\n   * events.\n   */\n  _gestureUpdate(x, y, z, cx, cy) {\n    // Update the saved position.\n    this._x = x;\n    this._y = y;\n    this._z = z;\n    // TODO Do we really need to store these?\n    this._cx = cx;\n    this._cy = cy;\n\n    // Cancel any existing raf or transitions\n    this._cancelRAF();\n    this._cancelTransitions();\n\n    // Schedule a new update\n    this.rafId = requestAnimationFrame(() => {\n      this._setTransform(this._x, this._y, this._z);\n      this.rafId = null;\n\n      this._emitState('update');\n    });\n  }\n\n  _calculatePositionForZoom(z, dz, cpx, cpy) {\n    // If there's no change in z, return early.\n    if (dz === 0) return {x: 0, y: 0, z};\n\n    let nz = z;\n    // TODO Scaling should happen outside of this method\n    // Scaled Delta Z\n    const sdz = dz * -1 * this._zoomSpeed;\n\n    // Delta of the scale value.\n    const zoomClampType = 0;\n    // No overscroll past the min/max zoom.\n    if (zoomClampType === 0) {\n      nz = Math.min(\n        Math.max(\n          z + sdz,\n          this.minZoom\n        ),\n        this.maxZoom\n      );\n    }\n    // Allow a little bit of overscroll past the min/max zoom.\n    // This has some weirdness but keeping the code for now.\n    else if (zoomClampType === 1) {\n      const absMin = this.minZoom - (this.minZoom * 0.5);\n      const absMax = this.maxZoom + (this.maxZoom * 0.5);\n      nz = Math.min(\n        Math.max(\n          z + sdz,\n          absMin\n        ),\n        absMax\n      );\n    }\n    // Allow full overscroll past the min/max zoom.\n    // This feels a little strange when the mouse wheel moves\n    // really far. The ideal solution would be to use the\n    // mouse wheel to determine a velocity of scroll but\n    // then to use our own velocity tracker (similar to\n    // impetus) that would allow us to control the friction\n    // of the movement.\n    else {\n      nz = Math.max(z + sdz, 0);\n    }\n\n    // If the zoom level has changed at all, shift the x/y position\n    // in order to center the zoom around the touch/mouse center point.\n    const diff = nz - z;\n    const pos = diff ? this._getPositionAdjustedForScale(diff, cpx, cpy) : {x: 0, y: 0};\n\n    // Return the new position.\n    return {\n      ...pos,\n      z: nz,\n    };\n  }\n\n  /**\n   * Given a change in scale, translate the element\n   * so the point of focus remains in the same place.\n   */\n  _getPositionAdjustedForScale(ds, px = 0, py = 0) {\n    // Unscaled width and height.\n    const w = this.elementWidth;\n    const h = this.elementHeight;\n\n    // Change in w/h since last zoom.\n    const cw = w * ds;\n    const ch = h * ds;\n\n    // Change in x/y needed to offset scaling around the mouse/touch position.\n    const cx = cw * px;\n    const cy = ch * py;\n\n    // this.debug(\n    //   'POSITION ADJUSTED FOR SCALE',\n    //   'ds', ds,\n    //   'w',  w,\n    //   'px', px,\n    //   'cw', cw,\n    //   'cx', cx,\n    // );\n\n    return {\n      x: -cx,\n      y: -cy,\n    };\n  }\n\n  _clampZoom(z, cpx = 0.5, cpy = 0.5, min = this.minZoom, max = this.maxZoom) {\n    let x = 0;\n    let y = 0;\n\n    let cz = z;\n    // If min or max are null, don't clamp in that direction.\n    if (min != null) cz = Math.max(cz, min);\n    if (max != null) cz = Math.min(cz, max);\n\n    if (z !== cz) {\n      const dz = cz - z;\n\n      const adjusted = this._getPositionAdjustedForScale(dz, cpx, cpy);\n      x += adjusted.x;\n      y += adjusted.y;\n\n      this.info('CLAMP SCALE:',\n        'unclamped scale', z,\n        'clamped scale', cz,\n        'dz', dz,\n        'x', x,\n        'y', y,\n      );\n    }\n\n    return {x, y, z: cz};\n  }\n\n  _clampPan(x, y, b = this.bounds) {\n    let cx = x;\n    let cy = y;\n\n    // If be is 0 or falsy, then clamping is off.\n    if (b) {\n      const wb = this.boundingWidth;\n      const hb = this.boundingHeight;\n      const w0 = this.elementWidth;\n      const h0 = this.elementHeight;\n      const w = Math.ceil(w0 * this._z);\n      const h = Math.ceil(h0 * this._z);\n\n      let xMin, yMin, xMax, yMax;\n      // Define the bounds as a percentage of the dimensions of the bounding box.\n      if (this.boundingType === 0) {\n        // Min values are based on the scaled dimensions of the element.\n        xMin = wb * (1 - b) - w;\n        yMin = hb * (1 - b) - h;\n        // Max values are based on the dimensions of the bounding element.\n        xMax = wb * b;\n        yMax = hb * b;\n      }\n      // Define the bounds as a percentage of the dimensions of the element.\n      else if (this.boundingType === 1) {\n        // The number of pixels of the element to be clamped.\n        const px = w * b;\n        const py = h * b;\n\n        xMin = -px;\n        yMin = -py;\n        xMax = wb - (w - px);\n        yMax = hb - (h - py);\n      }\n      // Convert the bounds into a pixel value.\n      else {\n        const px = Math.round(b * 100);\n        xMin = -w + px;\n        yMin = -h + px;\n        xMax = wb - px;\n        yMax = hb - px;\n      }\n\n      cx = Math.min(Math.max(x, xMin), xMax);\n      cy = Math.min(Math.max(y, yMin), yMax);\n\n      // Log the clamp\n      if (cx !== x || cy !== y) {\n        this.log('CLAMP X/Y:',\n          'x', x,\n          'clamped x', cx,\n          'xMin', xMin,\n          'xMax', xMax,\n          'y', y,\n          'clamped y', cy,\n          'yMin', yMin,\n          'yMax', yMax,\n        );\n      }\n    }\n\n    return {x: cx, y: cy};\n  }\n\n  _clampPanZoom(x = this._x, y = this._y, z = this._z) {\n    let clamped = false;\n\n    // Clamp Zooming\n    const clampedZoom = this._clampZoom(z);\n    if (clampedZoom.z !== z) {\n      clamped = true;\n      z = clampedZoom.z;\n      x = clampedZoom.x;\n      y = clampedZoom.y;\n    }\n\n    // Clamp Panning\n    const clampedPan = this._clampPan(x, y);\n    if (x !== clampedPan.x || y !== clampedPan.y) {\n      clamped = true;\n      x = clampedPan.x;\n      y = clampedPan.y;\n    }\n\n    return { clamped, x, y, z };\n  }\n\n  /**\n   * Clamp x/y/z to the bouding rect. This should only be\n   * called at gesture end.\n   */\n  _clampStateAfterTransition() {\n    const result = this._clampPanZoom();\n\n    if (result.clamped) {\n      this._x = result.x;\n      this._y = result.y;\n      this._z = result.z;\n\n      this._transitionToState();\n    }\n  }\n\n  _transitionToState(clamp) {\n    this._setTransition(clamp);\n    requestAnimationFrame(() => {\n      this._setTransform(this._x, this._y, this._z);\n      this._emitState('update');\n    });\n  }\n\n  _cancelTransitions() {\n    if (this._cancelTransitionEndListener) this._cancelTransitionEndListener();\n  }\n\n  _setTransition(clamp = true) {\n    const originalTransition = this.element.style.transition;\n\n    // If the element doesn't have a transform transition, then add our own.\n    // TODO This will never emit a transition end\n    if (!/transform /.test(originalTransition)) {\n      // Handle the transition end event.\n      const onTransitionEnd = () => {\n        this._cancelTransitions();\n        this._emitState('update');\n\n        // Always set moving to false here because clamping may not\n        // produce another transition. If it does, it will just set\n        // moving back to true and then false again after the transition.\n        this._moving = false;\n\n        if (clamp) {\n          this._clampStateAfterTransition();\n        } else {\n          this._emitState('end');\n        }\n      };\n\n      // A function that can be called to cancel the current transition.\n      this._cancelTransitionEndListener = () => {\n        this.element.style.transition = originalTransition;\n        this.element.removeEventListener('transitionend', onTransitionEnd);\n        this._cancelTransitionEndListener = null;\n      };\n\n      this._moving = true;\n      this.element.addEventListener('transitionend', onTransitionEnd);\n      this.element.style.transition = 'transform 300ms cubic-bezier(0.785, 0.135, 0.150, 0.860)';\n    }\n  }\n\n  /**\n   * Turn off touch-action, user-select and other properties that interfer with\n   * pan/zoom interactions.\n   */\n  _setSelectionProperties() {\n    if (this.element.style.touchAction && this.element.style.touchAction !== 'none') {\n      this.warn(\n        'element already has a \"touch-action\" style set. ' +\n        'PanZ will reset the \"touch-action\" to \"none\" for propery gesture handling.'\n      );\n    }\n\n    // Turning the touch action off ensures that pinch gestures\n    // don't zoom the page.\n    this.element.style.touchAction = 'none';\n    // Turning off user selection makes the gesture interactions a little\n    // nicer by avoiding selections of items while panning.\n    // this.element.style.userSelect = 'none';\n    this.element.style.userSelect = 'none';\n  }\n\n  _setTransformOrigin() {\n    if (this.element.style.transformOrigin) {\n      this.warn(\n        'element already has a \"transform-origin\" style set. ' +\n        'PanZ will reset the \"transform-origin\" to \"0 0\" for proper pan/zoom functionality.'\n      );\n    }\n\n    this.element.style.transformOrigin = '0 0';\n    // TODO Figure out how to prevent flicker of element transition if\n    // the scale is > 0\n    // this.element.style.webkitBackfaceVisibility = 'hidden';\n    // this.element.style.webkitTransformStyle = 'preserve-3d';\n    // this.element.style.webkitTransform = 'translateZ(0)';\n    // this.element.parentNode.style.webkitTransform = 'translate3d(0,0,0)';\n  }\n\n  _setTransform(x, y, z) {\n    this.element.style.transform = `translate(${x}px, ${y}px) scale(${z})`;\n    // this.element.style.transform = `translate3d(${x}px, ${y}px, 0) scale(${z})`;\n  }\n\n  _testTransform() {\n    if (this.element.style.transform) {\n      this.warn(\n        'element already has a \"transform\" style set. ' +\n        'Be aware that PanZ will modify the \"transform\" ' +\n        'style during pan/zoom gestures, overriding your custom transform.'\n      );\n    }\n  }\n\n  _emitState(name) {\n    const w0 = this.elementWidth;\n    const h0 = this.elementHeight;\n    const data = {\n      x: this._x,\n      y: this._y,\n      scale: this._z,\n      width: Math.ceil(w0 * this._z),\n      height: Math.ceil(h0 * this._z),\n      unscaledWidth: w0,\n      unscaledHeight: h0,\n    };\n    const level = name === 'update' ? 'debug' : 'log';\n    this[level](name.toUpperCase(),\n      'x'     , data.x.toFixed(0),\n      'y'     , data.y.toFixed(0),\n      'scale' , data.scale.toFixed(4),\n      'width' , data.width.toFixed(0),\n      'height', data.height.toFixed(0),\n      'originalWidth' , data.unscaledWidth,\n      'originalHeight', data.unscaledHeight,\n    );\n    this.emit(name, data);\n  }\n}\n\n// NOTES:\n// Zoom in on a point\n// https://stackoverflow.com/questions/2916081/zoom-in-on-a-point-using-scale-and-translate\n// 10 pan zoom libraries: https://bashooka.com/coding/react-zoom-image-components/\n//\n","export { default } from './PanZ';\n"],"sourceRoot":""}