{% extends "base.html" %}
{% block title %}Create Article{% endblock %}
<script defer src="//unpkg.com/alpinejs"></script>

{% block page %}


<header class="sticky bg-base-100 top-0 ">


    <div class="flex space-x-2  p-2">
        <button class="btn" onclick="my_modal_2.showModal()">
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M5 19V5H12V12H19V13C19.7 13 20.37 13.13 21 13.35V9L15 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H13.35C13.13 20.37 13 19.7 13 19H5M14 4.5L19.5 10H14V4.5M22.5 17.25L17.75 22L15 19L16.16 17.84L17.75 19.43L21.34 15.84L22.5 17.25Z" />
            </svg>
        </button>


        <dialog class="modal" id="my_modal_2">
            <div class="modal-box">
                <h3 class="font-bold text-lg">Publish article?</h3>

                <form class="form-control w-full max-w-sm space-y-4" hx-ext="debug" hx-post="/a/create"
                    id="publish_article">


                    <div>

                        <input class="input input-bordered w-full max-w-sm" name="article_title"
                            placeholder="Enter the title..." required type="text" />
                    </div>


                    {% if newspapers.len() != 0 %}
                    <select class="select select-bordered w-full max-w-sm" name="publisher">
                        <option value="None">Yourself</option>
                        {% for newspaper in newspapers %}
                        <option value="{{newspaper.newspaper_id}}">{{newspaper.newspaper_name}}</option>

                        {% endfor %}
                    </select>
                    {% endif %}


                    <button class="btn btn-primary" hx-ext="debug">Publish article</button>
                </form>
            </div>


            <form class="modal-backdrop" method="dialog">
                <button>close</button>
            </form>
        </dialog>
    </div>

</header>


<body class="m-2 ">


    <input class="input input-bordered w-full max-w-xs" form="publish_article" name="article_content"
        placeholder="Write article" type="text" />


</body>
{% endblock %}