{% extends "base.html" %}
{% block title %}Create Article{% endblock %}
<script src="//unpkg.com/alpinejs" defer></script>

{% block page %}


<header class="sticky bg-base-100 top-0 ">


    <div class="flex space-x-2  p-2">
        <button class="btn" onclick="my_modal_2.showModal()">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                    d="M5 19V5H12V12H19V13C19.7 13 20.37 13.13 21 13.35V9L15 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H13.35C13.13 20.37 13 19.7 13 19H5M14 4.5L19.5 10H14V4.5M22.5 17.25L17.75 22L15 19L16.16 17.84L17.75 19.43L21.34 15.84L22.5 17.25Z" />
            </svg>
        </button>



        <dialog id="my_modal_2" class="modal">
            <div class="modal-box">
                <h3 class="font-bold text-lg">Publish article?</h3>

                <form id="publish_article" hx-ext="debug" class="form-control w-full max-w-sm space-y-4"
                    hx-post="/a/create">


                    <div>

                        <input type="text" name="article_title" placeholder="Enter the title..."
                            class="input input-bordered w-full max-w-sm" required />
                    </div>





                    {% if newspapers is defined and newspapers[0] is defined %}
                    <select class="select select-bordered w-full max-w-sm" name="publisher">
                        <option value="None">Yourself</option>
                        {% for newspaper in newspapers %}
                        <option value="{{newspaper.newspaper_id}}">{{newspaper.newspaper_name}}</option>

                        {% endfor %}
                    </select>
                    {% endif %}


                    <button hx-ext="debug" class="btn btn-primary">Publish article</button>
                </form>
            </div>


            <form method="dialog" class="modal-backdrop">
                <button>close</button>
            </form>
        </dialog>
    </div>

</header>




<body class="m-2 ">


    <input form="publish_article" type="text" name="article_content" placeholder="Write article"
        class="input input-bordered w-full max-w-xs" />





</body>
{% endblock %}